import{c as Dt,a as F,t as W,d as $t,n as xt}from"../chunks/D0NuZ35r.js";import{i as tt}from"../chunks/Dfd0q3go.js";import{n as z,o as ee,m as ae,g as E,O as V,q as se,v as Tt,w as Et,x as ut,B as X,ad as re,y as Bt,z as Ht,A as ne,ah as Lt,a7 as ie,G as U,at as Ct,au as dt,a6 as rt,av as le,aw as oe,ax as ce,ag as ve,ay as ue,a0 as de,az as fe,aA as pe,ab as ge,E as me,aB as xe,aC as he,an as be,b as _e,aD as ye,aE as we,aF as ke,aG as Se,a8 as $e,F as Q,a3 as At,a4 as Nt,a5 as Te,p as et,aH as ht,a1 as zt,J as O,i as bt,j as at,k as m,s as S,l as x,aI as Gt,t as Z,_ as Ee,aJ as qt,aK as Pt,K as j}from"../chunks/BnrCCFMJ.js";import{i as q,p as Ut,s as nt,a as _t}from"../chunks/C0OXJytE.js";import{a as Ce,w as Ae,e as B,s as M}from"../chunks/CqcfnsYA.js";import{g as G,b as Ne,a as Ge,c as Rt}from"../chunks/B_JDS7Ed.js";function Re(e,t){return t}function Me(e,t,a,r){for(var n=[],i=t.length,o=0;o<i;o++)ce(t[o].e,n,!0);var f=i>0&&n.length===0&&a!==null;if(f){var u=a.parentNode;ve(u),u.append(a),r.clear(),L(e,t[0].prev,t[i-1].next)}ue(n,()=>{for(var d=0;d<i;d++){var l=t[d];f||(r.delete(l.k),L(e,l.prev,l.next)),de(l.e,!f)}})}function Fe(e,t,a,r,n,i=null){var o=e,f={flags:t,items:new Map,first:null};z&&ee();var u=null,d=!1,l=V(()=>{var b=a();return ie(b)?b:b==null?[]:Lt(b)});ae(()=>{var b=E(l),s=b.length;if(d&&s===0)return;d=s===0;let v=!1;if(z){var g=o.data===se;g!==(s===0)&&(o=Tt(),Et(o),ut(!1),v=!0)}if(z){for(var h=null,_,c=0;c<s;c++){if(X.nodeType===8&&X.data===re){o=X,v=!0,ut(!1);break}var y=b[c],w=r(y,c);_=Kt(X,f,h,null,y,w,c,n,t,a),f.items.set(w,_),h=_}s>0&&Et(Tt())}z||Oe(b,f,o,n,t,r,a),i!==null&&(s===0?u?Bt(u):u=Ht(()=>i(o)):u!==null&&ne(u,()=>{u=null})),v&&ut(!0),E(l)}),z&&(o=X)}function Oe(e,t,a,r,n,i,o){var f=e.length,u=t.items,d=t.first,l=d,b,s=null,v=[],g=[],h,_,c,y;for(y=0;y<f;y+=1){if(h=e[y],_=i(h,y),c=u.get(_),c===void 0){var w=l?l.e.nodes_start:a;s=Kt(w,t,s,s===null?t.first:s.next,h,_,y,r,n,o),u.set(_,s),v=[],g=[],l=s.next;continue}if(Ie(c,h,y),(c.e.f&dt)!==0&&Bt(c.e),c!==l){if(b!==void 0&&b.has(c)){if(v.length<g.length){var p=g[0],k;s=p.prev;var T=v[0],N=v[v.length-1];for(k=0;k<v.length;k+=1)Mt(v[k],p,a);for(k=0;k<g.length;k+=1)b.delete(g[k]);L(t,T.prev,N.next),L(t,s,T),L(t,N,p),l=p,s=N,y-=1,v=[],g=[]}else b.delete(c),Mt(c,l,a),L(t,c.prev,c.next),L(t,c,s===null?t.first:s.next),L(t,s,c),s=c;continue}for(v=[],g=[];l!==null&&l.k!==_;)(l.e.f&dt)===0&&(b??(b=new Set)).add(l),g.push(l),l=l.next;if(l===null)continue;c=l}v.push(c),s=c,l=c.next}if(l!==null||b!==void 0){for(var R=b===void 0?[]:Lt(b);l!==null;)(l.e.f&dt)===0&&R.push(l),l=l.next;var A=R.length;if(A>0){var I=null;Me(t,R,I,u)}}rt.first=t.first&&t.first.e,rt.last=s&&s.e}function Ie(e,t,a,r){oe(e.v,t),e.i=a}function Kt(e,t,a,r,n,i,o,f,u,d){var l=(u&fe)!==0,b=(u&pe)===0,s=l?b?U(n):Ct(n):n,v=(u&le)===0?o:Ct(o),g={i:v,v:s,k:i,a:null,e:null,prev:a,next:r};try{return g.e=Ht(()=>f(e,s,v,d),z),g.e.prev=a&&a.e,g.e.next=r&&r.e,a===null?t.first=g:(a.next=g,a.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function Mt(e,t,a){for(var r=e.next?e.next.e.nodes_start:a,n=t?t.e.nodes_start:a,i=e.e.nodes_start;i!==r;){var o=ge(i);n.before(i),i=o}}function L(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const Ft=[...` 	
\r\fÂ \v\uFEFF`];function De(e,t,a){var r=e==null?"":""+e;if(a){for(var n in a)if(a[n])r=r?r+" "+n:n;else if(r.length)for(var i=n.length,o=0;(o=r.indexOf(n,o))>=0;){var f=o+i;(o===0||Ft.includes(r[o-1]))&&(f===r.length||Ft.includes(r[f]))?r=(o===0?"":r.substring(0,o))+r.substring(f+1):o=f}}return r===""?null:r}function it(e,t,a,r,n,i){var o=e.__className;if(z||o!==a){var f=De(a,r,i);(!z||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=a}else if(i&&n!==i)for(var u in i){var d=!!i[u];(n==null||d!==!!n[u])&&e.classList.toggle(u,d)}return i}const Be=()=>performance.now(),H={tick:e=>requestAnimationFrame(e),now:()=>Be(),tasks:new Set};function Yt(){const e=H.now();H.tasks.forEach(t=>{t.c(e)||(H.tasks.delete(t),t.f())}),H.tasks.size!==0&&H.tick(Yt)}function He(e){let t;return H.tasks.size===0&&H.tick(Yt),{promise:new Promise(a=>{H.tasks.add(t={c:e,f:a})}),abort(){H.tasks.delete(t)}}}function st(e,t){Ae(()=>{e.dispatchEvent(new CustomEvent(t))})}function Le(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Ot(e){const t={},a=e.split(";");for(const r of a){const[n,i]=r.split(":");if(!n||i===void 0)break;const o=Le(n.trim());t[o]=i.trim()}return t}const ze=e=>e;function D(e,t,a,r){var n=(e&we)!==0,i=(e&ke)!==0,o=n&&i,f=(e&ye)!==0,u=o?"both":n?"in":"out",d,l=t.inert,b=t.style.overflow,s,v;function g(){var w=Te,p=rt;At(null),Nt(null);try{return d??(d=a()(t,(r==null?void 0:r())??{},{direction:u}))}finally{At(w),Nt(p)}}var h={is_global:f,in(){var w;if(t.inert=l,!n){v==null||v.abort(),(w=v==null?void 0:v.reset)==null||w.call(v);return}i||s==null||s.abort(),st(t,"introstart"),s=gt(t,g(),v,1,()=>{st(t,"introend"),s==null||s.abort(),s=d=void 0,t.style.overflow=b})},out(w){if(!i){w==null||w(),d=void 0;return}t.inert=!0,st(t,"outrostart"),v=gt(t,g(),s,0,()=>{st(t,"outroend"),w==null||w()})},stop:()=>{s==null||s.abort(),v==null||v.abort()}},_=rt;if((_.transitions??(_.transitions=[])).push(h),n&&Ce){var c=f;if(!c){for(var y=_.parent;y&&(y.f&me)!==0;)for(;(y=y.parent)&&(y.f&xe)===0;);c=!y||(y.f&he)!==0}c&&be(()=>{_e(()=>h.in())})}}function gt(e,t,a,r,n){var i=r===1;if(Se(t)){var o,f=!1;return $e(()=>{if(!f){var _=t({direction:i?"in":"out"});o=gt(e,_,a,r,n)}}),{abort:()=>{f=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return n(),{abort:Q,deactivate:Q,reset:Q,t:()=>r};const{delay:u=0,css:d,tick:l,easing:b=ze}=t;var s=[];if(i&&a===void 0&&(l&&l(0,1),d)){var v=Ot(d(0,1));s.push(v,v)}var g=()=>1-r,h=e.animate(s,{duration:u});return h.onfinish=()=>{var _=(a==null?void 0:a.t())??1-r;a==null||a.abort();var c=r-_,y=t.duration*Math.abs(c),w=[];if(y>0){var p=!1;if(d)for(var k=Math.ceil(y/16.666666666666668),T=0;T<=k;T+=1){var N=_+c*b(T/k),R=Ot(d(N,1-N));w.push(R),p||(p=R.overflow==="hidden")}p&&(e.style.overflow="hidden"),g=()=>{var A=h.currentTime;return _+c*b(A/y)},l&&He(()=>{if(h.playState!=="running")return!1;var A=g();return l(A,1-A),!0})}h=e.animate(w,{duration:y,fill:"forwards"}),h.onfinish=()=>{g=()=>r,l==null||l(r,1-r),n()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Q)},deactivate:()=>{n=Q},reset:()=>{r===0&&(l==null||l(1,0))},t:()=>g()}}const qe=e=>e;function jt(e){const t=e-1;return t*t*t+1}function It(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function yt(e,{delay:t=0,duration:a=400,easing:r=qe}={}){const n=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:i=>`opacity: ${i*n}`}}function J(e,{delay:t=0,duration:a=400,easing:r=jt,x:n=0,y:i=0,opacity:o=0}={}){const f=getComputedStyle(e),u=+f.opacity,d=f.transform==="none"?"":f.transform,l=u*(1-o),[b,s]=It(n),[v,g]=It(i);return{delay:t,duration:a,easing:r,css:(h,_)=>`
			transform: ${d} translate(${(1-h)*b}${s}, ${(1-h)*v}${g});
			opacity: ${u-l*_}`}}function Jt(e,{delay:t=0,duration:a=400,easing:r=jt,start:n=0,opacity:i=0}={}){const o=getComputedStyle(e),f=+o.opacity,u=o.transform==="none"?"":o.transform,d=1-n,l=f*(1-i);return{delay:t,duration:a,easing:r,css:(b,s)=>`
			transform: ${u} scale(${1-d*s});
			opacity: ${f-l*s}
		`}}function Vt(e){return--e*e*e*e*e+1}var Pe=W('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl relative overflow-hidden"><div class="relative" style="overflow: hidden;"><div><div class="text-center mb-8"><h1 class="text-4xl font-bold text-gradient mb-2">Guess the Graph <span class="text-2xl text-gradient-secondary">(beta)</span></h1> <p class="text-slate-600">Can you match the mathematical function?</p></div> <div class="grid gap-4"><button class="game-btn bg-indigo-600 hover:bg-indigo-700"><span class="text-xl">Singleplayer</span> <span class="text-xs text-indigo-200">Challenge yourself!</span></button> <button class="game-btn bg-emerald-600 hover:bg-emerald-700"><span class="text-xl">Daily Challenge</span> <span class="text-xs text-emerald-200">New function every day</span></button> <button disabled class="game-btn bg-gray-400 not-allowed relative overflow-hidden"><div class="absolute top-0 right-0 bg-yellow-500 text-xs px-2 py-0.5 rounded-bl-md font-medium">Coming Soon</div> <span class="text-xl">Multiplayer</span> <span class="text-xs text-gray-200">Race against others</span></button></div> <div class="mt-8 text-center text-sm text-slate-500"><p>Use the Desmos graphing calculator to match the hidden function</p></div></div> <div><div class="flex items-center mb-6"><button class="text-gray-500 hover:text-gray-700 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back</button> <div class="text-center flex-1 pr-8"><h1 class="text-3xl font-bold text-gradient">Select Difficulty</h1> <p class="text-slate-600">Choose how challenging you want it to be</p></div></div> <div class="grid gap-4"><button class="game-btn bg-green-600 hover:bg-green-700"><span class="text-xl">Easy</span> <span class="text-xs text-green-200">Simple functions</span></button> <button class="game-btn bg-yellow-600 hover:bg-yellow-700"><span class="text-xl">Medium</span> <span class="text-xs text-yellow-200">More challenging expressions</span></button> <button class="game-btn bg-red-600 hover:bg-red-700"><span class="text-xl">Hard</span> <span class="text-xs text-red-200">Complex mathematical functions</span></button></div></div></div></div></div>');function Ue(e,t){et(t,!1);const a=ht();let r=U(!1),n=null,i=U(!1);zt(()=>{setTimeout(()=>{O(r,!0)},10)});function o(s){n=s,s==="singleplayer"?O(i,!0):s==="daily"&&f("daily")}function f(s){O(r,!1),setTimeout(()=>{a("startGame",{mode:n,difficulty:s})},500)}function u(){O(i,!1)}tt();var d=Dt(),l=bt(d);{var b=s=>{var v=Pe(),g=m(v),h=m(g),_=m(h);let c;var y=S(m(_),2),w=m(y),p=S(w,2),k=S(p,2);x(y),Gt(2),x(_);var T=S(_,2);let N;var R=m(T),A=m(R);Gt(2),x(R);var I=S(R,2),K=m(I),Y=S(K,2),$=S(Y,2);x(I),x(T),x(h),x(g),x(v),Z((C,P)=>{c=it(_,1,"transition-all duration-500 ease-out transform",null,c,C),N=it(T,1,"absolute top-0 left-0 w-full transition-all duration-500 ease-out transform",null,N,P)},[()=>({"translate-x-0":!E(i),"-translate-x-full":E(i),"opacity-100":!E(i),"opacity-0":E(i)}),()=>({"translate-x-0":E(i),"translate-x-full":!E(i),"opacity-100":E(i),"opacity-0":!E(i)})],V),B("click",w,()=>o("singleplayer")),D(1,w,()=>J,()=>({y:20,duration:300,delay:200})),B("click",p,()=>o("daily")),D(1,p,()=>J,()=>({y:20,duration:300,delay:300})),D(1,k,()=>J,()=>({y:20,duration:300,delay:400})),B("click",A,u),B("click",K,()=>f("easy")),B("click",Y,()=>f("medium")),B("click",$,()=>f("hard")),D(3,g,()=>Jt,()=>({duration:400,delay:100,opacity:0,start:.95,easing:Vt})),D(3,v,()=>yt,()=>({duration:500})),F(s,v)};q(l,s=>{E(r)&&s(b)})}F(e,d),at()}const mt=Ee({visible:!1,type:"success",message:"",duration:3e3});let ft;function pt(e,t,a=3e3){ft&&clearTimeout(ft),mt.set({visible:!0,type:e,message:t,duration:a}),ft=setTimeout(()=>{mt.update(r=>({...r,visible:!1}))},a)}var Ke=W('<div><div class="content svelte-rk16k7"><div class="stats svelte-rk16k7"><div class="stat svelte-rk16k7"><span class="label svelte-rk16k7">Round</span> <span class="value svelte-rk16k7"> </span></div> <div class="stat svelte-rk16k7"><span class="label svelte-rk16k7">Time</span> <span class="value svelte-rk16k7"> </span></div> <div class="stat svelte-rk16k7"><span class="label svelte-rk16k7">Points</span> <span class="value svelte-rk16k7"> </span></div></div> <button class="check-btn svelte-rk16k7"><!></button></div></div>');function Ye(e,t){et(t,!1);const[a,r]=_t(),n=()=>nt(G,"$gameStore",a),i=()=>nt(Ne,"$gameTimer",a);let o=Ut(t,"visible",8,!0);const f=ht();let u=U(!1),d=U(!1);function l($){const C=Math.floor($/60).toString().padStart(2,"0"),P=Math.floor($%60).toString().padStart(2,"0");return`${C}:${P}`}async function b(){O(u,!0);const $=await Ge();O(u,!1),$===!0?(O(d,!0),pt("success","Correct! Great job!"),G.checkAnswer(!0),f("correct")):$==="NaN"?pt("warning","Function values are undefined. Please check your function."):pt("error","Not quite right. Keep trying!")}qt(()=>(n(),E(d)),()=>{n().gameState==="playing"&&E(d)&&O(d,!1)}),Pt(),tt();var s=Ke();let v;var g=m(s),h=m(g),_=m(h),c=S(m(_),2),y=m(c);x(c),x(_);var w=S(_,2),p=S(m(w),2),k=m(p,!0);x(p),x(w);var T=S(w,2),N=S(m(T),2),R=m(N,!0);x(N),x(T),x(h);var A=S(h,2),I=m(A);{var K=$=>{var C=$t("Checking...");F($,C)},Y=$=>{var C=$t("Check Answer");F($,C)};q(I,$=>{E(u)?$(K):$(Y,!1)})}x(A),x(g),x(s),Z(($,C)=>{v=it(s,1,"floating-ui svelte-rk16k7",null,v,$),M(y,`${n().currentRound??""}/${n().totalRounds??""}`),M(k,C),M(R,n().points),A.disabled=E(u)||E(d)},[()=>({visible:o()}),()=>l(i())],V),B("click",A,b),D(1,s,()=>J,()=>({y:-20,duration:300})),D(2,s,()=>yt,()=>({duration:200})),F(e,s),at(),r()}var je=W('<tr class="border-t border-gray-200"><td class="py-3 px-3"></td><td class="py-3 px-3"><div> </div> <div class="text-xs text-gray-500 font-mono"> </div></td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right font-medium"> </td></tr>'),Je=W('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl"><div class="text-center mb-6"><h1 class="text-4xl font-bold text-gradient mb-2">Game Complete!</h1> <p class="text-slate-600">You scored <span class="font-bold text-indigo-600"> </span> </p></div> <div class="mb-8"><h2 class="text-xl font-semibold mb-3 text-slate-800">Round Summary</h2> <div class="bg-gray-100 rounded-lg overflow-hidden"><table class="w-full text-sm"><thead><tr class="bg-gray-200 text-gray-700"><th class="py-2 px-3 text-left">Round</th><th class="py-2 px-3 text-left">Function</th><th class="py-2 px-3 text-left">Time</th><th class="py-2 px-3 text-right">Points</th></tr></thead><tbody><!><tr class="bg-indigo-50 font-medium text-indigo-900 border-t border-gray-200"><td class="py-3 px-3" colspan="2">Total</td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right"> </td></tr></tbody></table></div></div> <div class="flex gap-4 justify-center"><button class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-6 rounded-lg font-medium transition-colors"> </button> <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium transition-colors">New Game</button></div></div></div>');function Ve(e,t){et(t,!1);let a=Ut(t,"gameData",8);const r=ht(),n=a().roundsHistory.reduce(($,C)=>$+C.timeSpent,0);function i($){const C=Math.floor($/60).toString().padStart(2,"0"),P=Math.floor($%60).toString().padStart(2,"0");return`${C}:${P}`}function o(){r("playAgain")}function f(){r("newGame")}tt();var u=Je(),d=m(u),l=m(d),b=S(m(l),2),s=S(m(b)),v=m(s,!0);x(s);var g=S(s);x(b),x(l);var h=S(l,2),_=S(m(h),2),c=m(_),y=S(m(c)),w=m(y);Fe(w,1,()=>a().roundsHistory,Re,($,C,P)=>{var lt=je(),wt=m(lt);wt.textContent=P+1;var ot=S(wt),ct=m(ot),Wt=m(ct,!0);x(ct);var kt=S(ct,2),Xt=m(kt);x(kt),x(ot);var vt=S(ot),Qt=m(vt,!0);x(vt);var St=S(vt),Zt=m(St,!0);x(St),x(lt),Z(te=>{M(Wt,E(C).function.description),M(Xt,`g(x) = ${E(C).function.expression??""}`),M(Qt,te),M(Zt,E(C).points)},[()=>i(E(C).timeSpent)],V),F($,lt)});var p=S(w),k=S(m(p)),T=m(k,!0);x(k);var N=S(k),R=m(N,!0);x(N),x(p),x(y),x(c),x(_),x(h);var A=S(h,2),I=m(A),K=m(I);x(I);var Y=S(I,2);x(A),x(d),x(u),Z(($,C)=>{M(v,a().points),M(g,` points
        in ${$??""}`),M(T,C),M(R,a().points),M(K,`Play Again (${a().difficulty??""})`)},[()=>i(n),()=>i(n)],V),B("click",I,o),B("click",Y,f),D(3,d,()=>Jt,()=>({duration:400,delay:100,opacity:0,start:.95,easing:Vt})),D(3,u,()=>yt,()=>({duration:500})),F(e,u),at()}var We=xt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Xe=xt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),Qe=xt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),Ze=W('<div class="fixed z-50 bottom-6 left-1/2 transform -translate-x-1/2"><div><!> <span class="text-white font-medium"> </span></div></div>');function ta(e,t){et(t,!1);const[a,r]=_t(),n=()=>nt(mt,"$toastStore",a);tt();var i=Dt(),o=bt(i);{var f=u=>{var d=Ze(),l=m(d);let b;var s=m(l);{var v=c=>{var y=We();F(c,y)},g=(c,y)=>{{var w=k=>{var T=Xe();F(k,T)},p=k=>{var T=Qe();F(k,T)};q(c,k=>{n().type==="error"?k(w):k(p,!1)},y)}};q(s,c=>{n().type==="success"?c(v):c(g,!1)})}var h=S(s,2),_=m(h,!0);x(h),x(l),x(d),Z(c=>{b=it(l,1,"px-5 py-3 rounded-lg shadow-lg flex items-center",null,b,c),M(_,n().message)},[()=>({"bg-green-600":n().type==="success","bg-red-600":n().type==="error","bg-yellow-600":n().type==="warning"})],V),D(1,d,()=>J,()=>({y:50,duration:200})),D(2,d,()=>J,()=>({y:50,duration:200})),F(u,d)};q(o,u=>{n().visible&&u(f)})}F(e,i),at(),r()}var ea=W('<div id="calculator" class="w-screen h-screen relative"></div> <!> <!> <!> <!>',1);function oa(e,t){et(t,!1);const[a,r]=_t(),n=()=>nt(G,"$gameStore",a);let i=U(!0),o=U(!1);function f(p){const{mode:k,difficulty:T}=p.detail;O(i,!1),G.startGame(T),G.startNextRound(),u(),O(o,!0)}function u(){const p=j(Rt);if(p){p.setBlank();const k=j(G);k.currentFunction&&(console.log("Setting up calculator with function:",k.currentFunction.expression),p.setExpression({id:"g",latex:`g(x)=${k.currentFunction.expression}`,color:"#2d70b3",secret:!0}),p.setExpression({id:"f",latex:"f(x)=",color:"#c74440"}))}}function d(){const p=j(Rt),k=j(G);p.setExpression({id:"g",latex:`g(x)=${k.currentFunction.expression}`,color:"#2d70b3",secret:!1});const T=j(G);T.currentRound<T.totalRounds&&setTimeout(()=>{G.startNextRound(),u()},100)}function l(){const p=j(G);G.startGame(p.difficulty),G.startNextRound(),u()}function b(){G.resetGame(),O(i,!0),O(o,!1)}zt(()=>{}),qt(()=>(n(),G),()=>{n().gameState==="roundOver"&&n().currentRound===n().totalRounds&&setTimeout(()=>{G.update(p=>({...p,gameState:"gameOver"}))},100)}),Pt(),tt();var s=ea(),v=S(bt(s),2);{var g=p=>{Ue(p,{$$events:{startGame:f}})};q(v,p=>{E(i)&&p(g)})}var h=S(v,2);{var _=p=>{Ye(p,{visible:!0,$$events:{correct:d}})};q(h,p=>{E(o)&&n().gameState!=="gameOver"&&p(_)})}var c=S(h,2);{var y=p=>{Ve(p,{get gameData(){return n()},$$events:{playAgain:l,newGame:b}})};q(c,p=>{n().gameState==="gameOver"&&p(y)})}var w=S(c,2);ta(w,{}),F(e,s),at(),r()}export{oa as component};
