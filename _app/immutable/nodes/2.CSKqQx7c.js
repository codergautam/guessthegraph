import{c as Kt,a as R,t as U,d as Rt,n as bt}from"../chunks/D0NuZ35r.js";import{i as Q}from"../chunks/Dfd0q3go.js";import{n as z,o as oe,m as le,g as T,O as q,q as ce,v as Mt,w as Ot,x as ft,B as at,ad as ue,y as Ut,z as Vt,A as de,ah as Yt,a7 as ve,G as K,at as Ft,au as pt,a6 as ot,av as fe,aw as pe,ax as ge,ag as me,ay as he,a0 as xe,az as ye,aA as be,ab as _e,E as we,aB as ke,aC as $e,an as Se,b as Te,aD as Ee,aE as Ae,aF as Ce,aG as Ne,a8 as Ge,F as rt,a3 as It,a4 as Dt,a5 as Re,p as Z,aH as _t,a1 as wt,J as I,i as kt,j as tt,k as x,s as k,l as y,aI as Lt,t as X,_ as Jt,aJ as $t,e as Me,aK as St,K as J}from"../chunks/BnrCCFMJ.js";import{i as j,p as Tt,s as st,a as ct}from"../chunks/C0OXJytE.js";import{a as Oe,w as Fe,e as H,s as L}from"../chunks/CqcfnsYA.js";import{g as N,b as Ie,a as De,c as Bt}from"../chunks/CPwbetla.js";function Le(e,t){return t}function Be(e,t,a,n){for(var r=[],s=t.length,i=0;i<s;i++)ge(t[i].e,r,!0);var u=s>0&&r.length===0&&a!==null;if(u){var c=a.parentNode;me(c),c.append(a),n.clear(),P(e,t[0].prev,t[s-1].next)}he(r,()=>{for(var f=0;f<s;f++){var l=t[f];u||(n.delete(l.k),P(e,l.prev,l.next)),xe(l.e,!u)}})}function He(e,t,a,n,r,s=null){var i=e,u={flags:t,items:new Map,first:null};z&&oe();var c=null,f=!1,l=q(()=>{var g=a();return ve(g)?g:g==null?[]:Yt(g)});le(()=>{var g=T(l),o=g.length;if(f&&o===0)return;f=o===0;let d=!1;if(z){var m=i.data===ce;m!==(o===0)&&(i=Mt(),Ot(i),ft(!1),d=!0)}if(z){for(var h=null,b,v=0;v<o;v++){if(at.nodeType===8&&at.data===ue){i=at,d=!0,ft(!1);break}var _=g[v],$=n(_,v);b=Wt(at,u,h,null,_,$,v,r,t,a),u.items.set($,b),h=b}o>0&&Ot(Mt())}z||Pe(g,u,i,r,t,n,a),s!==null&&(o===0?c?Ut(c):c=Vt(()=>s(i)):c!==null&&de(c,()=>{c=null})),d&&ft(!0),T(l)}),z&&(i=at)}function Pe(e,t,a,n,r,s,i){var u=e.length,c=t.items,f=t.first,l=f,g,o=null,d=[],m=[],h,b,v,_;for(_=0;_<u;_+=1){if(h=e[_],b=s(h,_),v=c.get(b),v===void 0){var $=l?l.e.nodes_start:a;o=Wt($,t,o,o===null?t.first:o.next,h,b,_,n,r,i),c.set(b,o),d=[],m=[],l=o.next;continue}if(ze(v,h,_),(v.e.f&pt)!==0&&Ut(v.e),v!==l){if(g!==void 0&&g.has(v)){if(d.length<m.length){var p=m[0],w;o=p.prev;var E=d[0],A=d[d.length-1];for(w=0;w<d.length;w+=1)Ht(d[w],p,a);for(w=0;w<m.length;w+=1)g.delete(m[w]);P(t,E.prev,A.next),P(t,o,E),P(t,A,p),l=p,o=A,_-=1,d=[],m=[]}else g.delete(v),Ht(v,l,a),P(t,v.prev,v.next),P(t,v,o===null?t.first:o.next),P(t,o,v),o=v;continue}for(d=[],m=[];l!==null&&l.k!==b;)(l.e.f&pt)===0&&(g??(g=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;v=l}d.push(v),o=v,l=v.next}if(l!==null||g!==void 0){for(var C=g===void 0?[]:Yt(g);l!==null;)(l.e.f&pt)===0&&C.push(l),l=l.next;var M=C.length;if(M>0){var G=null;Be(t,C,G,c)}}ot.first=t.first&&t.first.e,ot.last=o&&o.e}function ze(e,t,a,n){pe(e.v,t),e.i=a}function Wt(e,t,a,n,r,s,i,u,c,f){var l=(c&ye)!==0,g=(c&be)===0,o=l?g?K(r):Ft(r):r,d=(c&fe)===0?i:Ft(i),m={i:d,v:o,k:s,a:null,e:null,prev:a,next:n};try{return m.e=Vt(()=>u(e,o,d,f),z),m.e.prev=a&&a.e,m.e.next=n&&n.e,a===null?t.first=m:(a.next=m,a.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function Ht(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,s=e.e.nodes_start;s!==n;){var i=_e(s);r.before(s),s=i}}function P(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const Pt=[...` 	
\r\fÂ \v\uFEFF`];function je(e,t,a){var n=e==null?"":""+e;if(a){for(var r in a)if(a[r])n=n?n+" "+r:r;else if(n.length)for(var s=r.length,i=0;(i=n.indexOf(r,i))>=0;){var u=i+s;(i===0||Pt.includes(n[i-1]))&&(u===n.length||Pt.includes(n[u]))?n=(i===0?"":n.substring(0,i))+n.substring(u+1):i=u}}return n===""?null:n}function lt(e,t,a,n,r,s){var i=e.__className;if(z||i!==a){var u=je(a,n,s);(!z||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}else if(s&&r!==s)for(var c in s){var f=!!s[c];(r==null||f!==!!r[c])&&e.classList.toggle(c,f)}return s}const qe=()=>performance.now(),B={tick:e=>requestAnimationFrame(e),now:()=>qe(),tasks:new Set};function Xt(){const e=B.now();B.tasks.forEach(t=>{t.c(e)||(B.tasks.delete(t),t.f())}),B.tasks.size!==0&&B.tick(Xt)}function Qt(e){let t;return B.tasks.size===0&&B.tick(Xt),{promise:new Promise(a=>{B.tasks.add(t={c:e,f:a})}),abort(){B.tasks.delete(t)}}}function nt(e,t){Fe(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ke(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function zt(e){const t={},a=e.split(";");for(const n of a){const[r,s]=n.split(":");if(!r||s===void 0)break;const i=Ke(r.trim());t[i]=s.trim()}return t}const Ue=e=>e;function D(e,t,a,n){var r=(e&Ae)!==0,s=(e&Ce)!==0,i=r&&s,u=(e&Ee)!==0,c=i?"both":r?"in":"out",f,l=t.inert,g=t.style.overflow,o,d;function m(){var $=Re,p=ot;It(null),Dt(null);try{return f??(f=a()(t,(n==null?void 0:n())??{},{direction:c}))}finally{It($),Dt(p)}}var h={is_global:u,in(){var $;if(t.inert=l,!r){d==null||d.abort(),($=d==null?void 0:d.reset)==null||$.call(d);return}s||o==null||o.abort(),nt(t,"introstart"),o=ht(t,m(),d,1,()=>{nt(t,"introend"),o==null||o.abort(),o=f=void 0,t.style.overflow=g})},out($){if(!s){$==null||$(),f=void 0;return}t.inert=!0,nt(t,"outrostart"),d=ht(t,m(),o,0,()=>{nt(t,"outroend"),$==null||$()})},stop:()=>{o==null||o.abort(),d==null||d.abort()}},b=ot;if((b.transitions??(b.transitions=[])).push(h),r&&Oe){var v=u;if(!v){for(var _=b.parent;_&&(_.f&we)!==0;)for(;(_=_.parent)&&(_.f&ke)===0;);v=!_||(_.f&$e)!==0}v&&Se(()=>{Te(()=>h.in())})}}function ht(e,t,a,n,r){var s=n===1;if(Ne(t)){var i,u=!1;return Ge(()=>{if(!u){var b=t({direction:s?"in":"out"});i=ht(e,b,a,n,r)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return r(),{abort:rt,deactivate:rt,reset:rt,t:()=>n};const{delay:c=0,css:f,tick:l,easing:g=Ue}=t;var o=[];if(s&&a===void 0&&(l&&l(0,1),f)){var d=zt(f(0,1));o.push(d,d)}var m=()=>1-n,h=e.animate(o,{duration:c});return h.onfinish=()=>{var b=(a==null?void 0:a.t())??1-n;a==null||a.abort();var v=n-b,_=t.duration*Math.abs(v),$=[];if(_>0){var p=!1;if(f)for(var w=Math.ceil(_/16.666666666666668),E=0;E<=w;E+=1){var A=b+v*g(E/w),C=zt(f(A,1-A));$.push(C),p||(p=C.overflow==="hidden")}p&&(e.style.overflow="hidden"),m=()=>{var M=h.currentTime;return b+v*g(M/_)},l&&Qt(()=>{if(h.playState!=="running")return!1;var M=m();return l(M,1-M),!0})}h=e.animate($,{duration:_,fill:"forwards"}),h.onfinish=()=>{m=()=>n,l==null||l(n,1-n),r()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=rt)},deactivate:()=>{r=rt},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>m()}}const Ve=e=>e;function Zt(e){const t=e-1;return t*t*t+1}function jt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Et(e,{delay:t=0,duration:a=400,easing:n=Ve}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:n,css:s=>`opacity: ${s*r}`}}function W(e,{delay:t=0,duration:a=400,easing:n=Zt,x:r=0,y:s=0,opacity:i=0}={}){const u=getComputedStyle(e),c=+u.opacity,f=u.transform==="none"?"":u.transform,l=c*(1-i),[g,o]=jt(r),[d,m]=jt(s);return{delay:t,duration:a,easing:n,css:(h,b)=>`
			transform: ${f} translate(${(1-h)*g}${o}, ${(1-h)*d}${m});
			opacity: ${c-l*b}`}}function te(e,{delay:t=0,duration:a=400,easing:n=Zt,start:r=0,opacity:s=0}={}){const i=getComputedStyle(e),u=+i.opacity,c=i.transform==="none"?"":i.transform,f=1-r,l=u*(1-s);return{delay:t,duration:a,easing:n,css:(g,o)=>`
			transform: ${c} scale(${1-f*o});
			opacity: ${u-l*o}
		`}}function Ye(e){return e}function Je(e){const t=e-1;return t*t*t+1}function ee(e){return--e*e*e*e*e+1}var We=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl relative overflow-hidden"><div class="relative" style="overflow: hidden;"><div><div class="text-center mb-8"><h1 class="text-4xl font-bold text-gradient mb-2">Guess the Graph <span class="text-2xl text-gradient-secondary">(beta)</span></h1> <p class="text-slate-600">Can you match the mathematical function?</p></div> <div class="grid gap-4"><button class="game-btn bg-indigo-600 hover:bg-indigo-700"><span class="text-xl">Singleplayer</span> <span class="text-xs text-indigo-200">Challenge yourself!</span></button> <button class="game-btn bg-emerald-600 hover:bg-emerald-700"><span class="text-xl">Daily Challenge</span> <span class="text-xs text-emerald-200">New function every day</span></button> <button disabled class="game-btn bg-gray-400 not-allowed relative overflow-hidden"><div class="absolute top-0 right-0 bg-yellow-500 text-xs px-2 py-0.5 rounded-bl-md font-medium">Coming Soon</div> <span class="text-xl">Multiplayer</span> <span class="text-xs text-gray-200">Race against others</span></button></div> <div class="mt-8 text-center text-sm text-slate-500"><p>Use the Desmos graphing calculator to match the hidden function</p></div></div> <div><div class="flex items-center mb-6"><button class="text-gray-500 hover:text-gray-700 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back</button> <div class="text-center flex-1 pr-8"><h1 class="text-3xl font-bold text-gradient">Select Difficulty</h1> <p class="text-slate-600">Choose how challenging you want it to be</p></div></div> <div class="grid gap-4"><button class="game-btn bg-green-600 hover:bg-green-700"><span class="text-xl">Easy</span> <span class="text-xs text-green-200">Simple functions</span></button> <button class="game-btn bg-yellow-600 hover:bg-yellow-700"><span class="text-xl">Medium</span> <span class="text-xs text-yellow-200">More challenging expressions</span></button> <button class="game-btn bg-red-600 hover:bg-red-700"><span class="text-xl">Hard</span> <span class="text-xs text-red-200">Complex mathematical functions</span></button></div></div></div></div></div>');function Xe(e,t){Z(t,!1);const a=_t();let n=K(!1),r=null,s=K(!1);wt(()=>{setTimeout(()=>{I(n,!0)},10)});function i(o){r=o,o==="singleplayer"?I(s,!0):o==="daily"&&u("daily")}function u(o){I(n,!1),setTimeout(()=>{a("startGame",{mode:r,difficulty:o})},500)}function c(){I(s,!1)}Q();var f=Kt(),l=kt(f);{var g=o=>{var d=We(),m=x(d),h=x(m),b=x(h);let v;var _=k(x(b),2),$=x(_),p=k($,2),w=k(p,2);y(_),Lt(2),y(b);var E=k(b,2);let A;var C=x(E),M=x(C);Lt(2),y(C);var G=k(C,2),V=x(G),Y=k(V,2),F=k(Y,2);y(G),y(E),y(h),y(m),y(d),X((S,O)=>{v=lt(b,1,"transition-all duration-500 ease-out transform",null,v,S),A=lt(E,1,"absolute top-0 left-0 w-full transition-all duration-500 ease-out transform",null,A,O)},[()=>({"translate-x-0":!T(s),"-translate-x-full":T(s),"opacity-100":!T(s),"opacity-0":T(s)}),()=>({"translate-x-0":T(s),"translate-x-full":!T(s),"opacity-100":T(s),"opacity-0":!T(s)})],q),H("click",$,()=>i("singleplayer")),D(1,$,()=>W,()=>({y:20,duration:300,delay:200})),H("click",p,()=>i("daily")),D(1,p,()=>W,()=>({y:20,duration:300,delay:300})),D(1,w,()=>W,()=>({y:20,duration:300,delay:400})),H("click",M,c),H("click",V,()=>u("easy")),H("click",Y,()=>u("medium")),H("click",F,()=>u("hard")),D(3,m,()=>te,()=>({duration:400,delay:100,opacity:0,start:.95,easing:ee})),D(3,d,()=>Et,()=>({duration:500})),R(o,d)};j(l,o=>{T(n)&&o(g)})}R(e,f),tt()}const xt=Jt({visible:!1,type:"success",message:"",duration:3e3});let gt;function mt(e,t,a=3e3){gt&&clearTimeout(gt),xt.set({visible:!0,type:e,message:t,duration:a}),gt=setTimeout(()=>{xt.update(n=>({...n,visible:!1}))},a)}function qt(e){return Object.prototype.toString.call(e)==="[object Date]"}function yt(e,t){if(e===t||e!==e)return()=>e;const a=typeof e;if(a!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((r,s)=>yt(e[s],r));return r=>n.map(s=>s(r))}if(a==="object"){if(!e||!t)throw new Error("Object cannot be null");if(qt(e)&&qt(t)){const s=e.getTime(),u=t.getTime()-s;return c=>new Date(s+c*u)}const n=Object.keys(t),r={};return n.forEach(s=>{r[s]=yt(e[s],t[s])}),s=>{const i={};return n.forEach(u=>{i[u]=r[u](s)}),i}}if(a==="number"){const n=t-e;return r=>e+r*n}return()=>t}function Qe(e,t={}){const a=Jt(e);let n,r=e;function s(i,u){if(r=i,e==null)return a.set(e=i),Promise.resolve();let c=n,f=!1,{delay:l=0,duration:g=400,easing:o=Ye,interpolate:d=yt}={...t,...u};if(g===0)return c&&(c.abort(),c=null),a.set(e=r),Promise.resolve();const m=B.now()+l;let h;return n=Qt(b=>{if(b<m)return!0;f||(h=d(e,i),typeof g=="function"&&(g=g(e,i)),f=!0),c&&(c.abort(),c=null);const v=b-m;return v>g?(a.set(e=i),!1):(a.set(e=h(o(v/g))),!0)}),n.promise}return{set:s,update:(i,u)=>s(i(r,e),u),subscribe:a.subscribe}}var Ze=U("<span> </span>");function it(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(i,"$displayValue",a);let s=Tt(t,"value",8,0);const i=Qe(s(),{duration:800,easing:Je});$t(()=>Me(s()),()=>{i.set(s())}),St(),Q();var u=Ze(),c=x(u,!0);y(u),X(f=>L(c,f),[()=>Math.round(r())],q),R(e,u),tt(),n()}var ta=U('<div><div class="content svelte-t3evnd"><div class="stats svelte-t3evnd"><div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Round</span> <span class="value svelte-t3evnd"> </span></div> <div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Time</span> <span class="value svelte-t3evnd"> </span></div> <div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Points</span> <span class="value svelte-t3evnd"><!></span></div></div> <button class="check-btn svelte-t3evnd"><!></button></div></div>');function ea(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(N,"$gameStore",a),s=()=>st(Ie,"$gameTimer",a);let i=Tt(t,"visible",8,!0);const u=_t();let c=K(!1),f=K(!1);function l(S){const O=Math.floor(S/60).toString().padStart(2,"0"),et=Math.floor(S%60).toString().padStart(2,"0");return`${O}:${et}`}async function g(){if(T(c)||T(f))return;I(c,!0);const S=await De();I(c,!1),S===!0?(I(f,!0),mt("success","Correct! Great job!"),N.checkAnswer(!0),u("correct")):S==="NaN"?mt("warning","Function values are undefined. Please check your function."):mt("error","Not quite right. Keep trying!")}function o(S){console.log("Key pressed:",S.key),S.key==="Enter"&&r().gameState==="playing"&&!T(c)&&!T(f)&&g()}wt(()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)})),$t(()=>(r(),T(f)),()=>{r().gameState==="playing"&&T(f)&&I(f,!1)}),St(),Q();var d=ta();let m;var h=x(d),b=x(h),v=x(b),_=k(x(v),2),$=x(_);y(_),y(v);var p=k(v,2),w=k(x(p),2),E=x(w,!0);y(w),y(p);var A=k(p,2),C=k(x(A),2),M=x(C);it(M,{get value(){return r().points}}),y(C),y(A),y(b);var G=k(b,2),V=x(G);{var Y=S=>{var O=Rt("Checking...");R(S,O)},F=S=>{var O=Rt("Check Answer");R(S,O)};j(V,S=>{T(c)?S(Y):S(F,!1)})}y(G),y(h),y(d),X((S,O)=>{m=lt(d,1,"floating-ui svelte-t3evnd",null,m,S),L($,`${r().currentRound??""}/${r().totalRounds??""}`),L(E,O),G.disabled=T(c)||T(f)},[()=>({visible:i()}),()=>l(s())],q),H("click",G,g),D(1,d,()=>W,()=>({y:-20,duration:300})),D(2,d,()=>Et,()=>({duration:200})),R(e,d),tt(),n()}var aa=U('<tr class="border-t border-gray-200"><td class="py-3 px-3"></td><td class="py-3 px-3"><div> </div> <div class="text-xs text-gray-500 font-mono"> </div></td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right font-medium"><!></td></tr>'),ra=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl"><div class="text-center mb-6"><h1 class="text-4xl font-bold text-gradient mb-2">Game Complete!</h1> <p class="text-slate-600">You scored <span class="font-bold text-indigo-600"><!></span> </p></div> <div class="mb-8"><h2 class="text-xl font-semibold mb-3 text-slate-800">Round Summary</h2> <div class="bg-gray-100 rounded-lg overflow-hidden"><table class="w-full text-sm"><thead><tr class="bg-gray-200 text-gray-700"><th class="py-2 px-3 text-left">Round</th><th class="py-2 px-3 text-left">Function</th><th class="py-2 px-3 text-left">Time</th><th class="py-2 px-3 text-right">Points</th></tr></thead><tbody><!><tr class="bg-indigo-50 font-medium text-indigo-900 border-t border-gray-200"><td class="py-3 px-3" colspan="2">Total</td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right"><!></td></tr></tbody></table></div></div> <div class="flex gap-4 justify-center"><button class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-6 rounded-lg font-medium transition-colors"> </button> <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium transition-colors">New Game</button></div></div></div>');function sa(e,t){Z(t,!1);let a=Tt(t,"gameData",8);const n=_t(),r=a().roundsHistory.reduce((F,S)=>F+S.timeSpent,0);function s(F){const S=Math.floor(F/60).toString().padStart(2,"0"),O=Math.floor(F%60).toString().padStart(2,"0");return`${S}:${O}`}function i(){n("playAgain")}function u(){n("newGame")}Q();var c=ra(),f=x(c),l=x(f),g=k(x(l),2),o=k(x(g)),d=x(o);it(d,{get value(){return a().points}}),y(o);var m=k(o);y(g),y(l);var h=k(l,2),b=k(x(h),2),v=x(b),_=k(x(v)),$=x(_);He($,1,()=>a().roundsHistory,Le,(F,S,O)=>{var et=aa(),At=x(et);At.textContent=O+1;var ut=k(At),dt=x(ut),ae=x(dt,!0);y(dt);var Ct=k(dt,2),re=x(Ct);y(Ct),y(ut);var vt=k(ut),se=x(vt,!0);y(vt);var Nt=k(vt),ne=x(Nt);it(ne,{get value(){return T(S).points}}),y(Nt),y(et),X(ie=>{var Gt;L(ae,T(S).function.description),L(re,`g(x) = ${((Gt=T(S).function)==null?void 0:Gt.readableExpression)??T(S).function.expression??""}`),L(se,ie)},[()=>s(T(S).timeSpent)],q),R(F,et)});var p=k($),w=k(x(p)),E=x(w,!0);y(w);var A=k(w),C=x(A);it(C,{get value(){return a().points}}),y(A),y(p),y(_),y(v),y(b),y(h);var M=k(h,2),G=x(M),V=x(G);y(G);var Y=k(G,2);y(M),y(f),y(c),X((F,S)=>{L(m,` points
        in ${F??""}`),L(E,S),L(V,`Play Again (${a().difficulty??""})`)},[()=>s(r),()=>s(r)],q),H("click",G,i),H("click",Y,u),D(3,f,()=>te,()=>({duration:400,delay:100,opacity:0,start:.95,easing:ee})),D(3,c,()=>Et,()=>({duration:500})),R(e,c),tt()}var na=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),ia=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),oa=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),la=U('<div class="fixed z-50 bottom-6 left-1/2 transform -translate-x-1/2"><div><!> <span class="text-white font-medium"> </span></div></div>');function ca(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(xt,"$toastStore",a);Q();var s=Kt(),i=kt(s);{var u=c=>{var f=la(),l=x(f);let g;var o=x(l);{var d=v=>{var _=na();R(v,_)},m=(v,_)=>{{var $=w=>{var E=ia();R(w,E)},p=w=>{var E=oa();R(w,E)};j(v,w=>{r().type==="error"?w($):w(p,!1)},_)}};j(o,v=>{r().type==="success"?v(d):v(m,!1)})}var h=k(o,2),b=x(h,!0);y(h),y(l),y(f),X(v=>{g=lt(l,1,"px-5 py-3 rounded-lg shadow-lg flex items-center",null,g,v),L(b,r().message)},[()=>({"bg-green-600":r().type==="success","bg-red-600":r().type==="error","bg-yellow-600":r().type==="warning"})],q),D(1,f,()=>W,()=>({y:50,duration:200})),D(2,f,()=>W,()=>({y:50,duration:200})),R(c,f)};j(i,c=>{r().visible&&c(u)})}R(e,s),tt(),n()}var ua=U('<div id="calculator" class="w-screen h-screen relative"></div> <!> <!> <!> <!>',1);function ha(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(N,"$gameStore",a);let s=K(!0),i=K(!1);function u(p){const{mode:w,difficulty:E}=p.detail;I(s,!1),N.startGame(E),N.startNextRound(),c(),I(i,!0)}function c(){const p=J(Bt);if(p){p.setBlank();const w=J(N);w.currentFunction&&(console.log("Setting up calculator with function:",w.currentFunction.expression),p.setExpression({id:"g",latex:`g(x)=${w.currentFunction.expression}`,color:"#2d70b3",secret:!0}),p.focusFirstExpression(),p.setExpression({id:"f",latex:"f(x)=",color:"#c74440"}))}}function f(){const p=J(Bt),w=J(N);p.setExpression({id:"g",latex:`g(x)=${w.currentFunction.expression}`,color:"#2d70b3",secret:!1});const E=J(N);E.currentRound<E.totalRounds&&setTimeout(()=>{N.startNextRound(),c()},100)}function l(){const p=J(N);N.startGame(p.difficulty),N.startNextRound(),c()}function g(){N.resetGame(),I(s,!0),I(i,!1)}wt(()=>{}),$t(()=>(r(),N),()=>{r().gameState==="roundOver"&&r().currentRound===r().totalRounds&&setTimeout(()=>{N.update(p=>({...p,gameState:"gameOver"}))},100)}),St(),Q();var o=ua(),d=k(kt(o),2);{var m=p=>{Xe(p,{$$events:{startGame:u}})};j(d,p=>{T(s)&&p(m)})}var h=k(d,2);{var b=p=>{ea(p,{visible:!0,$$events:{correct:f}})};j(h,p=>{T(i)&&r().gameState!=="gameOver"&&p(b)})}var v=k(h,2);{var _=p=>{sa(p,{get gameData(){return r()},$$events:{playAgain:l,newGame:g}})};j(v,p=>{r().gameState==="gameOver"&&p(_)})}var $=k(v,2);ca($,{}),R(e,o),tt(),n()}export{ha as component};
