import{c as Kt,a as M,t as U,d as Mt,n as wt}from"../chunks/D0NuZ35r.js";import{i as tt}from"../chunks/Dfd0q3go.js";import{n as z,o as oe,m as le,g as S,O as Y,q as ce,v as jt,w as qt,x as gt,B as nt,ad as ue,y as Vt,z as Yt,A as de,ah as Jt,a7 as ve,G as J,at as Ot,au as mt,a6 as dt,av as fe,aw as pe,ax as ge,ag as me,ay as he,a0 as ye,az as xe,aA as be,ab as _e,E as we,aB as ke,aC as $e,an as Se,b as Te,aD as Ee,aE as Ae,aF as Ce,aG as Ne,a8 as Re,F as it,a3 as Ft,a4 as It,a5 as Ge,p as et,aH as kt,a1 as $t,J as F,i as St,j as at,k as h,s as w,l as y,aI as Dt,t as W,_ as Wt,aJ as Tt,e as Me,aK as Et,K as Q}from"../chunks/BnrCCFMJ.js";import{i as B,p as At,s as ot,a as ft}from"../chunks/C0OXJytE.js";import{a as je,w as qe,e as H,s as I}from"../chunks/CqcfnsYA.js";import{g as C,b as Oe,a as Fe,c as Ht}from"../chunks/DaZ8rzEq.js";function Ie(e,t){return t}function De(e,t,a,n){for(var r=[],s=t.length,i=0;i<s;i++)ge(t[i].e,r,!0);var u=s>0&&r.length===0&&a!==null;if(u){var c=a.parentNode;me(c),c.append(a),n.clear(),P(e,t[0].prev,t[s-1].next)}he(r,()=>{for(var f=0;f<s;f++){var l=t[f];u||(n.delete(l.k),P(e,l.prev,l.next)),ye(l.e,!u)}})}function He(e,t,a,n,r,s=null){var i=e,u={flags:t,items:new Map,first:null};z&&oe();var c=null,f=!1,l=Y(()=>{var g=a();return ve(g)?g:g==null?[]:Jt(g)});le(()=>{var g=S(l),o=g.length;if(f&&o===0)return;f=o===0;let d=!1;if(z){var m=i.data===ce;m!==(o===0)&&(i=jt(),qt(i),gt(!1),d=!0)}if(z){for(var x=null,b,v=0;v<o;v++){if(nt.nodeType===8&&nt.data===ue){i=nt,d=!0,gt(!1);break}var _=g[v],k=n(_,v);b=Xt(nt,u,x,null,_,k,v,r,t,a),u.items.set(k,b),x=b}o>0&&qt(jt())}z||Le(g,u,i,r,t,n,a),s!==null&&(o===0?c?Vt(c):c=Yt(()=>s(i)):c!==null&&de(c,()=>{c=null})),d&&gt(!0),S(l)}),z&&(i=nt)}function Le(e,t,a,n,r,s,i){var u=e.length,c=t.items,f=t.first,l=f,g,o=null,d=[],m=[],x,b,v,_;for(_=0;_<u;_+=1){if(x=e[_],b=s(x,_),v=c.get(b),v===void 0){var k=l?l.e.nodes_start:a;o=Xt(k,t,o,o===null?t.first:o.next,x,b,_,n,r,i),c.set(b,o),d=[],m=[],l=o.next;continue}if(Be(v,x,_),(v.e.f&mt)!==0&&Vt(v.e),v!==l){if(g!==void 0&&g.has(v)){if(d.length<m.length){var p=m[0],$;o=p.prev;var E=d[0],N=d[d.length-1];for($=0;$<d.length;$+=1)Lt(d[$],p,a);for($=0;$<m.length;$+=1)g.delete(m[$]);P(t,E.prev,N.next),P(t,o,E),P(t,N,p),l=p,o=N,_-=1,d=[],m=[]}else g.delete(v),Lt(v,l,a),P(t,v.prev,v.next),P(t,v,o===null?t.first:o.next),P(t,o,v),o=v;continue}for(d=[],m=[];l!==null&&l.k!==b;)(l.e.f&mt)===0&&(g??(g=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;v=l}d.push(v),o=v,l=v.next}if(l!==null||g!==void 0){for(var R=g===void 0?[]:Jt(g);l!==null;)(l.e.f&mt)===0&&R.push(l),l=l.next;var q=R.length;if(q>0){var O=null;De(t,R,O,c)}}dt.first=t.first&&t.first.e,dt.last=o&&o.e}function Be(e,t,a,n){pe(e.v,t),e.i=a}function Xt(e,t,a,n,r,s,i,u,c,f){var l=(c&xe)!==0,g=(c&be)===0,o=l?g?J(r):Ot(r):r,d=(c&fe)===0?i:Ot(i),m={i:d,v:o,k:s,a:null,e:null,prev:a,next:n};try{return m.e=Yt(()=>u(e,o,d,f),z),m.e.prev=a&&a.e,m.e.next=n&&n.e,a===null?t.first=m:(a.next=m,a.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function Lt(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,s=e.e.nodes_start;s!==n;){var i=_e(s);r.before(s),s=i}}function P(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const Bt=[...` 	
\r\fÂ \v\uFEFF`];function Pe(e,t,a){var n=e==null?"":""+e;if(a){for(var r in a)if(a[r])n=n?n+" "+r:r;else if(n.length)for(var s=r.length,i=0;(i=n.indexOf(r,i))>=0;){var u=i+s;(i===0||Bt.includes(n[i-1]))&&(u===n.length||Bt.includes(n[u]))?n=(i===0?"":n.substring(0,i))+n.substring(u+1):i=u}}return n===""?null:n}function vt(e,t,a,n,r,s){var i=e.__className;if(z||i!==a||i===void 0){var u=Pe(a,n,s);(!z||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}else if(s&&r!==s)for(var c in s){var f=!!s[c];(r==null||f!==!!r[c])&&e.classList.toggle(c,f)}return s}const ze=()=>performance.now(),L={tick:e=>requestAnimationFrame(e),now:()=>ze(),tasks:new Set};function Qt(){const e=L.now();L.tasks.forEach(t=>{t.c(e)||(L.tasks.delete(t),t.f())}),L.tasks.size!==0&&L.tick(Qt)}function Zt(e){let t;return L.tasks.size===0&&L.tick(Qt),{promise:new Promise(a=>{L.tasks.add(t={c:e,f:a})}),abort(){L.tasks.delete(t)}}}function ct(e,t){qe(()=>{e.dispatchEvent(new CustomEvent(t))})}function Ue(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Pt(e){const t={},a=e.split(";");for(const n of a){const[r,s]=n.split(":");if(!r||s===void 0)break;const i=Ue(r.trim());t[i]=s.trim()}return t}const Ke=e=>e;function D(e,t,a,n){var r=(e&Ae)!==0,s=(e&Ce)!==0,i=r&&s,u=(e&Ee)!==0,c=i?"both":r?"in":"out",f,l=t.inert,g=t.style.overflow,o,d;function m(){var k=Ge,p=dt;Ft(null),It(null);try{return f??(f=a()(t,(n==null?void 0:n())??{},{direction:c}))}finally{Ft(k),It(p)}}var x={is_global:u,in(){var k;if(t.inert=l,!r){d==null||d.abort(),(k=d==null?void 0:d.reset)==null||k.call(d);return}s||o==null||o.abort(),ct(t,"introstart"),o=xt(t,m(),d,1,()=>{ct(t,"introend"),o==null||o.abort(),o=f=void 0,t.style.overflow=g})},out(k){if(!s){k==null||k(),f=void 0;return}t.inert=!0,ct(t,"outrostart"),d=xt(t,m(),o,0,()=>{ct(t,"outroend"),k==null||k()})},stop:()=>{o==null||o.abort(),d==null||d.abort()}},b=dt;if((b.transitions??(b.transitions=[])).push(x),r&&je){var v=u;if(!v){for(var _=b.parent;_&&(_.f&we)!==0;)for(;(_=_.parent)&&(_.f&ke)===0;);v=!_||(_.f&$e)!==0}v&&Se(()=>{Te(()=>x.in())})}}function xt(e,t,a,n,r){var s=n===1;if(Ne(t)){var i,u=!1;return Re(()=>{if(!u){var b=t({direction:s?"in":"out"});i=xt(e,b,a,n,r)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return r(),{abort:it,deactivate:it,reset:it,t:()=>n};const{delay:c=0,css:f,tick:l,easing:g=Ke}=t;var o=[];if(s&&a===void 0&&(l&&l(0,1),f)){var d=Pt(f(0,1));o.push(d,d)}var m=()=>1-n,x=e.animate(o,{duration:c});return x.onfinish=()=>{var b=(a==null?void 0:a.t())??1-n;a==null||a.abort();var v=n-b,_=t.duration*Math.abs(v),k=[];if(_>0){var p=!1;if(f)for(var $=Math.ceil(_/16.666666666666668),E=0;E<=$;E+=1){var N=b+v*g(E/$),R=Pt(f(N,1-N));k.push(R),p||(p=R.overflow==="hidden")}p&&(e.style.overflow="hidden"),m=()=>{var q=x.currentTime;return b+v*g(q/_)},l&&Zt(()=>{if(x.playState!=="running")return!1;var q=m();return l(q,1-q),!0})}x=e.animate(k,{duration:_,fill:"forwards"}),x.onfinish=()=>{m=()=>n,l==null||l(n,1-n),r()}},{abort:()=>{x&&(x.cancel(),x.effect=null,x.onfinish=it)},deactivate:()=>{r=it},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>m()}}const Ve=e=>e;function te(e){const t=e-1;return t*t*t+1}function zt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Ct(e,{delay:t=0,duration:a=400,easing:n=Ve}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:n,css:s=>`opacity: ${s*r}`}}function Z(e,{delay:t=0,duration:a=400,easing:n=te,x:r=0,y:s=0,opacity:i=0}={}){const u=getComputedStyle(e),c=+u.opacity,f=u.transform==="none"?"":u.transform,l=c*(1-i),[g,o]=zt(r),[d,m]=zt(s);return{delay:t,duration:a,easing:n,css:(x,b)=>`
			transform: ${f} translate(${(1-x)*g}${o}, ${(1-x)*d}${m});
			opacity: ${c-l*b}`}}function ee(e,{delay:t=0,duration:a=400,easing:n=te,start:r=0,opacity:s=0}={}){const i=getComputedStyle(e),u=+i.opacity,c=i.transform==="none"?"":i.transform,f=1-r,l=u*(1-s);return{delay:t,duration:a,easing:n,css:(g,o)=>`
			transform: ${c} scale(${1-f*o});
			opacity: ${u-l*o}
		`}}function Ye(e){return e}function Je(e){const t=e-1;return t*t*t+1}function ae(e){return--e*e*e*e*e+1}var We=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl relative overflow-hidden"><div class="relative" style="overflow: hidden;"><div><div class="text-center mb-8"><h1 class="text-4xl font-bold text-gradient mb-2">Guess the Graph <span class="text-2xl text-gradient-secondary">(beta)</span></h1> <p class="text-slate-600">Can you match the mathematical function?</p></div> <div class="grid gap-4"><button class="game-btn bg-emerald-600 hover:bg-emerald-700"><span class="text-xl">Daily Challenge</span> <span class="text-xs text-emerald-200">New function every day</span></button> <button class="game-btn bg-indigo-600 hover:bg-indigo-700"><span class="text-xl">Practice</span> <span class="text-xs text-indigo-200">Play at your own pace</span></button> <button disabled class="game-btn bg-gray-400 not-allowed relative overflow-hidden"><div class="absolute top-0 right-0 bg-yellow-500 text-xs px-2 py-0.5 rounded-bl-md font-medium">Coming Soon</div> <span class="text-xl">Multiplayer</span> <span class="text-xs text-gray-200">Race against others</span></button></div> <div class="mt-8 text-center text-sm text-slate-500"><p>Use the Desmos graphing calculator to match the hidden function</p></div></div> <div><div class="flex items-center mb-6"><button class="text-gray-500 hover:text-gray-700 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back</button> <div class="text-center flex-1 pr-8"><h1 class="text-3xl font-bold text-gradient">Select Difficulty</h1> <p class="text-slate-600">Choose how challenging you want it to be</p></div></div> <div class="grid gap-4"><button class="game-btn bg-green-600 hover:bg-green-700"><span class="text-xl">Easy</span> <span class="text-xs text-green-200">Simple functions</span></button> <button class="game-btn bg-yellow-600 hover:bg-yellow-700"><span class="text-xl">Medium</span> <span class="text-xs text-yellow-200">More challenging expressions</span></button> <button class="game-btn bg-red-600 hover:bg-red-700"><span class="text-xl">Hard</span> <span class="text-xs text-red-200">Complex mathematical functions</span></button></div></div></div></div></div>');function Xe(e,t){et(t,!1);const a=kt();let n=J(!1),r=null,s=J(!1);$t(()=>{setTimeout(()=>{F(n,!0)},10)});function i(o){r=o,o==="singleplayer"?F(s,!0):o==="daily"&&u("daily")}function u(o){F(n,!1),setTimeout(()=>{a("startGame",{mode:r,difficulty:o})},500)}function c(){F(s,!1)}tt();var f=Kt(),l=St(f);{var g=o=>{var d=We(),m=h(d),x=h(m),b=h(x);let v;var _=w(h(b),2),k=h(_),p=w(k,2),$=w(p,2);y(_),Dt(2),y(b);var E=w(b,2);let N;var R=h(E),q=h(R);Dt(2),y(R);var O=w(R,2),X=h(O),K=w(X,2),j=w(K,2);y(O),y(E),y(x),y(m),y(d),W((A,V)=>{v=vt(b,1,"transition-all duration-500 ease-out transform",null,v,A),N=vt(E,1,"absolute top-0 left-0 w-full transition-all duration-500 ease-out transform",null,N,V)},[()=>({"translate-x-0":!S(s),"-translate-x-full":S(s),"opacity-100":!S(s),"opacity-0":S(s)}),()=>({"translate-x-0":S(s),"translate-x-full":!S(s),"opacity-100":S(s),"opacity-0":!S(s)})],Y),H("click",k,()=>i("daily")),D(1,k,()=>Z,()=>({y:20,duration:300,delay:300})),H("click",p,()=>i("singleplayer")),D(1,p,()=>Z,()=>({y:20,duration:300,delay:200})),D(1,$,()=>Z,()=>({y:20,duration:300,delay:400})),H("click",q,c),H("click",X,()=>u("easy")),H("click",K,()=>u("medium")),H("click",j,()=>u("hard")),D(3,m,()=>ee,()=>({duration:400,delay:100,opacity:0,start:.95,easing:ae})),D(3,d,()=>Ct,()=>({duration:500})),M(o,d)};B(l,o=>{S(n)&&o(g)})}M(e,f),at()}const bt=Wt({visible:!1,type:"success",message:"",duration:3e3});let ht;function yt(e,t,a=3e3){ht&&clearTimeout(ht),bt.set({visible:!0,type:e,message:t,duration:a}),ht=setTimeout(()=>{bt.update(n=>({...n,visible:!1}))},a)}function Ut(e){return Object.prototype.toString.call(e)==="[object Date]"}function _t(e,t){if(e===t||e!==e)return()=>e;const a=typeof e;if(a!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((r,s)=>_t(e[s],r));return r=>n.map(s=>s(r))}if(a==="object"){if(!e||!t)throw new Error("Object cannot be null");if(Ut(e)&&Ut(t)){const s=e.getTime(),u=t.getTime()-s;return c=>new Date(s+c*u)}const n=Object.keys(t),r={};return n.forEach(s=>{r[s]=_t(e[s],t[s])}),s=>{const i={};return n.forEach(u=>{i[u]=r[u](s)}),i}}if(a==="number"){const n=t-e;return r=>e+r*n}return()=>t}function Qe(e,t={}){const a=Wt(e);let n,r=e;function s(i,u){if(r=i,e==null)return a.set(e=i),Promise.resolve();let c=n,f=!1,{delay:l=0,duration:g=400,easing:o=Ye,interpolate:d=_t}={...t,...u};if(g===0)return c&&(c.abort(),c=null),a.set(e=r),Promise.resolve();const m=L.now()+l;let x;return n=Zt(b=>{if(b<m)return!0;f||(x=d(e,i),typeof g=="function"&&(g=g(e,i)),f=!0),c&&(c.abort(),c=null);const v=b-m;return v>g?(a.set(e=i),!1):(a.set(e=x(o(v/g))),!0)}),n.promise}return{set:s,update:(i,u)=>s(i(r,e),u),subscribe:a.subscribe}}var Ze=U("<span> </span>");function ut(e,t){et(t,!1);const[a,n]=ft(),r=()=>ot(i,"$displayValue",a);let s=At(t,"value",8,0);const i=Qe(s(),{duration:800,easing:Je});Tt(()=>Me(s()),()=>{i.set(s())}),Et(),tt();var u=Ze(),c=h(u,!0);y(u),W(f=>I(c,f),[()=>Math.round(r())],Y),M(e,u),at(),n()}var ta=U('<div class="hint-display svelte-1tuy8jq"> </div>'),ea=U('<div><div class="content svelte-1tuy8jq"><div class="stats svelte-1tuy8jq"><div class="stat svelte-1tuy8jq"><span class="label svelte-1tuy8jq">Round</span> <span class="value svelte-1tuy8jq"> </span></div> <div class="stat svelte-1tuy8jq"><span class="label svelte-1tuy8jq">Time</span> <span class="value svelte-1tuy8jq"> </span></div> <div class="stat svelte-1tuy8jq"><span class="label svelte-1tuy8jq">Points</span> <span class="value svelte-1tuy8jq"><!></span></div></div> <!> <div class="button-group svelte-1tuy8jq"><button class="hint-btn svelte-1tuy8jq">Hint</button> <button class="check-btn svelte-1tuy8jq"><!></button></div></div></div>');function aa(e,t){et(t,!1);const[a,n]=ft(),r=()=>ot(C,"$gameStore",a),s=()=>ot(Oe,"$gameTimer",a);let i=At(t,"visible",8,!0);const u=kt();let c=J(!1),f=J(!1);function l(T){const G=Math.floor(T/60).toString().padStart(2,"0"),st=Math.floor(T%60).toString().padStart(2,"0");return`${G}:${st}`}async function g(){if(S(c)||S(f))return;F(c,!0);const T=await Fe();F(c,!1),T===!0?(F(f,!0),yt("success","Correct! Great job!"),C.checkAnswer(!0),u("correct")):T==="NaN"?yt("warning","Function values are undefined. Please check your function."):yt("error","Not quite right. Keep trying!")}function o(T){console.log("Key pressed:",T.key),T.key==="Enter"&&r().gameState==="playing"&&!S(c)&&!S(f)&&g()}$t(()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)})),Tt(()=>(r(),S(f)),()=>{r().gameState==="playing"&&S(f)&&F(f,!1)}),Et(),tt();var d=ea();let m;var x=h(d),b=h(x),v=h(b),_=w(h(v),2),k=h(_);y(_),y(v);var p=w(v,2),$=w(h(p),2),E=h($,!0);y($),y(p);var N=w(p,2),R=w(h(N),2),q=h(R);ut(q,{get value(){return r().points}}),y(R),y(N),y(b);var O=w(b,2);{var X=T=>{var G=ta(),st=h(G,!0);y(G),W(()=>I(st,r().currentFunction.description)),M(T,G)};B(O,T=>{r().hintUsed&&T(X)})}var K=w(O,2),j=h(K),A=w(j,2),V=h(A);{var rt=T=>{var G=Mt("Checking...");M(T,G)},lt=T=>{var G=Mt("Check Answer");M(T,G)};B(V,T=>{S(c)?T(rt):T(lt,!1)})}y(A),y(K),y(x),y(d),W((T,G)=>{m=vt(d,1,"floating-ui svelte-1tuy8jq",null,m,T),I(k,`${r().currentRound??""}/${r().totalRounds??""}`),I(E,G),j.disabled=S(c)||S(f)||r().hintUsed,A.disabled=S(c)||S(f)},[()=>({visible:i()}),()=>l(s())],Y),H("click",j,()=>C.useHint()),H("click",A,g),D(1,d,()=>Z,()=>({y:-20,duration:300})),D(2,d,()=>Ct,()=>({duration:200})),M(e,d),at(),n()}var ra=U('<tr class="border-t border-gray-200"><td class="py-3 px-3"></td><td class="py-3 px-3"><div> </div> <div class="text-xs text-gray-500 font-mono"> </div></td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right font-medium"><!></td></tr>'),sa=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl"><div class="text-center mb-6"><h1 class="text-4xl font-bold text-gradient mb-2">Game Complete!</h1> <p class="text-slate-600">You scored <span class="font-bold text-indigo-600"><!></span> </p></div> <div class="mb-8"><h2 class="text-xl font-semibold mb-3 text-slate-800">Round Summary</h2> <div class="bg-gray-100 rounded-lg overflow-hidden"><table class="w-full text-sm"><thead><tr class="bg-gray-200 text-gray-700"><th class="py-2 px-3 text-left">Round</th><th class="py-2 px-3 text-left">Function</th><th class="py-2 px-3 text-left">Time</th><th class="py-2 px-3 text-right">Points</th></tr></thead><tbody><!><tr class="bg-indigo-50 font-medium text-indigo-900 border-t border-gray-200"><td class="py-3 px-3" colspan="2">Total</td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right"><!></td></tr></tbody></table></div></div> <div class="flex gap-4 justify-center"><button class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-6 rounded-lg font-medium transition-colors"> </button> <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium transition-colors">New Game</button></div></div></div>');function na(e,t){et(t,!1);let a=At(t,"gameData",8);const n=kt(),r=a().roundsHistory.reduce((j,A)=>j+A.timeSpent,0);function s(j){const A=Math.floor(j/60).toString().padStart(2,"0"),V=Math.floor(j%60).toString().padStart(2,"0");return`${A}:${V}`}function i(){n("playAgain")}function u(){n("newGame")}tt();var c=sa(),f=h(c),l=h(f),g=w(h(l),2),o=w(h(g)),d=h(o);ut(d,{get value(){return a().points}}),y(o);var m=w(o);y(g),y(l);var x=w(l,2),b=w(h(x),2),v=h(b),_=w(h(v)),k=h(_);He(k,1,()=>a().roundsHistory,Ie,(j,A,V)=>{var rt=ra(),lt=h(rt);lt.textContent=V+1;var T=w(lt),G=h(T),st=h(G,!0);y(G);var Nt=w(G,2),re=h(Nt);y(Nt),y(T);var pt=w(T),se=h(pt,!0);y(pt);var Rt=w(pt),ne=h(Rt);ut(ne,{get value(){return S(A).points}}),y(Rt),y(rt),W(ie=>{var Gt;I(st,S(A).function.description),I(re,`g(x) = ${((Gt=S(A).function)==null?void 0:Gt.readableExpression)??S(A).function.expression??""}`),I(se,ie)},[()=>s(S(A).timeSpent)],Y),M(j,rt)});var p=w(k),$=w(h(p)),E=h($,!0);y($);var N=w($),R=h(N);ut(R,{get value(){return a().points}}),y(N),y(p),y(_),y(v),y(b),y(x);var q=w(x,2),O=h(q),X=h(O);y(O);var K=w(O,2);y(q),y(f),y(c),W((j,A)=>{I(m,` points
        in ${j??""}`),I(E,A),I(X,`Play Again (${a().difficulty??""})`)},[()=>s(r),()=>s(r)],Y),H("click",O,i),H("click",K,u),D(3,f,()=>ee,()=>({duration:400,delay:100,opacity:0,start:.95,easing:ae})),D(3,c,()=>Ct,()=>({duration:500})),M(e,c),at()}var ia=wt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),oa=wt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),la=wt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),ca=U('<div class="fixed z-50 bottom-6 left-1/2 transform -translate-x-1/2"><div><!> <span class="text-white font-medium"> </span></div></div>');function ua(e,t){et(t,!1);const[a,n]=ft(),r=()=>ot(bt,"$toastStore",a);tt();var s=Kt(),i=St(s);{var u=c=>{var f=ca(),l=h(f);let g;var o=h(l);{var d=v=>{var _=ia();M(v,_)},m=(v,_)=>{{var k=$=>{var E=oa();M($,E)},p=$=>{var E=la();M($,E)};B(v,$=>{r().type==="error"?$(k):$(p,!1)},_)}};B(o,v=>{r().type==="success"?v(d):v(m,!1)})}var x=w(o,2),b=h(x,!0);y(x),y(l),y(f),W(v=>{g=vt(l,1,"px-5 py-3 rounded-lg shadow-lg flex items-center",null,g,v),I(b,r().message)},[()=>({"bg-green-600":r().type==="success","bg-red-600":r().type==="error","bg-yellow-600":r().type==="warning"})],Y),D(1,f,()=>Z,()=>({y:50,duration:200})),D(2,f,()=>Z,()=>({y:50,duration:200})),M(c,f)};B(i,c=>{r().visible&&c(u)})}M(e,s),at(),n()}var da=U('<div id="calculator" class="w-screen h-screen relative"></div> <!> <!> <!> <!>',1);function ya(e,t){et(t,!1);const[a,n]=ft(),r=()=>ot(C,"$gameStore",a);let s=J(!0),i=J(!1);function u(p){const{mode:$,difficulty:E}=p.detail;F(s,!1),C.startGame(E),C.startNextRound(),c(),F(i,!0)}function c(){const p=Q(Ht);if(p){p.setBlank();const $=Q(C);$.currentFunction&&(console.log("Setting up calculator with function:",$.currentFunction.expression),p.setExpression({id:"g",latex:`g(x)=${$.currentFunction.expression}`,color:"#2d70b3",secret:!0}),p.focusFirstExpression(),p.setExpression({id:"f",latex:"f(x)=",color:"#c74440"}))}}function f(){Q(Ht),Q(C);const p=Q(C);p.currentRound<p.totalRounds&&setTimeout(()=>{C.startNextRound(),c()},100)}function l(){const p=Q(C);C.startGame(p.difficulty),C.startNextRound(),c()}function g(){C.resetGame(),F(s,!0),F(i,!1)}$t(()=>{}),Tt(()=>(r(),C),()=>{r().gameState==="roundOver"&&r().currentRound===r().totalRounds&&setTimeout(()=>{C.update(p=>({...p,gameState:"gameOver"}))},100)}),Et(),tt();var o=da(),d=w(St(o),2);{var m=p=>{Xe(p,{$$events:{startGame:u}})};B(d,p=>{S(s)&&p(m)})}var x=w(d,2);{var b=p=>{aa(p,{visible:!0,$$events:{correct:f}})};B(x,p=>{S(i)&&r().gameState!=="gameOver"&&p(b)})}var v=w(x,2);{var _=p=>{na(p,{get gameData(){return r()},$$events:{playAgain:l,newGame:g}})};B(v,p=>{r().gameState==="gameOver"&&p(_)})}var k=w(v,2);ua(k,{}),M(e,o),at(),n()}export{ya as component};
