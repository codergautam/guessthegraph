import{c as qt,a as R,t as U,d as Gt,n as bt}from"../chunks/D0NuZ35r.js";import{i as Q}from"../chunks/Dfd0q3go.js";import{n as z,o as ie,m as oe,g as T,O as q,q as le,v as Rt,w as Mt,x as ft,B as at,ad as ce,y as Kt,z as Ut,A as ue,ah as Vt,a7 as de,G as K,at as Ot,au as pt,a6 as ot,av as ve,aw as fe,ax as pe,ag as ge,ay as me,a0 as he,az as xe,aA as ye,ab as be,E as _e,aB as we,aC as ke,an as $e,b as Se,aD as Te,aE as Ee,aF as Ae,aG as Ce,a8 as Ne,F as rt,a3 as Ft,a4 as It,a5 as Ge,p as Z,aH as _t,a1 as wt,J as I,i as kt,j as tt,k as x,s as k,l as y,aI as Dt,t as X,_ as Yt,aJ as $t,e as Re,aK as St,K as J}from"../chunks/BnrCCFMJ.js";import{i as j,p as Tt,s as st,a as ct}from"../chunks/C0OXJytE.js";import{a as Me,w as Oe,e as H,s as L}from"../chunks/CqcfnsYA.js";import{g as N,b as Fe,a as Ie,c as Lt}from"../chunks/CPwbetla.js";function De(e,t){return t}function Le(e,t,a,n){for(var r=[],s=t.length,i=0;i<s;i++)pe(t[i].e,r,!0);var u=s>0&&r.length===0&&a!==null;if(u){var c=a.parentNode;ge(c),c.append(a),n.clear(),P(e,t[0].prev,t[s-1].next)}me(r,()=>{for(var f=0;f<s;f++){var l=t[f];u||(n.delete(l.k),P(e,l.prev,l.next)),he(l.e,!u)}})}function Be(e,t,a,n,r,s=null){var i=e,u={flags:t,items:new Map,first:null};z&&ie();var c=null,f=!1,l=q(()=>{var p=a();return de(p)?p:p==null?[]:Vt(p)});oe(()=>{var p=T(l),o=p.length;if(f&&o===0)return;f=o===0;let d=!1;if(z){var m=i.data===le;m!==(o===0)&&(i=Rt(),Mt(i),ft(!1),d=!0)}if(z){for(var h=null,b,v=0;v<o;v++){if(at.nodeType===8&&at.data===ce){i=at,d=!0,ft(!1);break}var _=p[v],$=n(_,v);b=Jt(at,u,h,null,_,$,v,r,t,a),u.items.set($,b),h=b}o>0&&Mt(Rt())}z||He(p,u,i,r,t,n,a),s!==null&&(o===0?c?Kt(c):c=Ut(()=>s(i)):c!==null&&ue(c,()=>{c=null})),d&&ft(!0),T(l)}),z&&(i=at)}function He(e,t,a,n,r,s,i){var u=e.length,c=t.items,f=t.first,l=f,p,o=null,d=[],m=[],h,b,v,_;for(_=0;_<u;_+=1){if(h=e[_],b=s(h,_),v=c.get(b),v===void 0){var $=l?l.e.nodes_start:a;o=Jt($,t,o,o===null?t.first:o.next,h,b,_,n,r,i),c.set(b,o),d=[],m=[],l=o.next;continue}if(Pe(v,h,_),(v.e.f&pt)!==0&&Kt(v.e),v!==l){if(p!==void 0&&p.has(v)){if(d.length<m.length){var g=m[0],w;o=g.prev;var E=d[0],A=d[d.length-1];for(w=0;w<d.length;w+=1)Bt(d[w],g,a);for(w=0;w<m.length;w+=1)p.delete(m[w]);P(t,E.prev,A.next),P(t,o,E),P(t,A,g),l=g,o=A,_-=1,d=[],m=[]}else p.delete(v),Bt(v,l,a),P(t,v.prev,v.next),P(t,v,o===null?t.first:o.next),P(t,o,v),o=v;continue}for(d=[],m=[];l!==null&&l.k!==b;)(l.e.f&pt)===0&&(p??(p=new Set)).add(l),m.push(l),l=l.next;if(l===null)continue;v=l}d.push(v),o=v,l=v.next}if(l!==null||p!==void 0){for(var C=p===void 0?[]:Vt(p);l!==null;)(l.e.f&pt)===0&&C.push(l),l=l.next;var M=C.length;if(M>0){var G=null;Le(t,C,G,c)}}ot.first=t.first&&t.first.e,ot.last=o&&o.e}function Pe(e,t,a,n){fe(e.v,t),e.i=a}function Jt(e,t,a,n,r,s,i,u,c,f){var l=(c&xe)!==0,p=(c&ye)===0,o=l?p?K(r):Ot(r):r,d=(c&ve)===0?i:Ot(i),m={i:d,v:o,k:s,a:null,e:null,prev:a,next:n};try{return m.e=Ut(()=>u(e,o,d,f),z),m.e.prev=a&&a.e,m.e.next=n&&n.e,a===null?t.first=m:(a.next=m,a.e.next=m.e),n!==null&&(n.prev=m,n.e.prev=m.e),m}finally{}}function Bt(e,t,a){for(var n=e.next?e.next.e.nodes_start:a,r=t?t.e.nodes_start:a,s=e.e.nodes_start;s!==n;){var i=be(s);r.before(s),s=i}}function P(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const Ht=[...` 	
\r\fÂ \v\uFEFF`];function ze(e,t,a){var n=e==null?"":""+e;if(a){for(var r in a)if(a[r])n=n?n+" "+r:r;else if(n.length)for(var s=r.length,i=0;(i=n.indexOf(r,i))>=0;){var u=i+s;(i===0||Ht.includes(n[i-1]))&&(u===n.length||Ht.includes(n[u]))?n=(i===0?"":n.substring(0,i))+n.substring(u+1):i=u}}return n===""?null:n}function lt(e,t,a,n,r,s){var i=e.__className;if(z||i!==a){var u=ze(a,n,s);(!z||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}else if(s&&r!==s)for(var c in s){var f=!!s[c];(r==null||f!==!!r[c])&&e.classList.toggle(c,f)}return s}const je=()=>performance.now(),B={tick:e=>requestAnimationFrame(e),now:()=>je(),tasks:new Set};function Wt(){const e=B.now();B.tasks.forEach(t=>{t.c(e)||(B.tasks.delete(t),t.f())}),B.tasks.size!==0&&B.tick(Wt)}function Xt(e){let t;return B.tasks.size===0&&B.tick(Wt),{promise:new Promise(a=>{B.tasks.add(t={c:e,f:a})}),abort(){B.tasks.delete(t)}}}function nt(e,t){Oe(()=>{e.dispatchEvent(new CustomEvent(t))})}function qe(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function Pt(e){const t={},a=e.split(";");for(const n of a){const[r,s]=n.split(":");if(!r||s===void 0)break;const i=qe(r.trim());t[i]=s.trim()}return t}const Ke=e=>e;function D(e,t,a,n){var r=(e&Ee)!==0,s=(e&Ae)!==0,i=r&&s,u=(e&Te)!==0,c=i?"both":r?"in":"out",f,l=t.inert,p=t.style.overflow,o,d;function m(){var $=Ge,g=ot;Ft(null),It(null);try{return f??(f=a()(t,(n==null?void 0:n())??{},{direction:c}))}finally{Ft($),It(g)}}var h={is_global:u,in(){var $;if(t.inert=l,!r){d==null||d.abort(),($=d==null?void 0:d.reset)==null||$.call(d);return}s||o==null||o.abort(),nt(t,"introstart"),o=ht(t,m(),d,1,()=>{nt(t,"introend"),o==null||o.abort(),o=f=void 0,t.style.overflow=p})},out($){if(!s){$==null||$(),f=void 0;return}t.inert=!0,nt(t,"outrostart"),d=ht(t,m(),o,0,()=>{nt(t,"outroend"),$==null||$()})},stop:()=>{o==null||o.abort(),d==null||d.abort()}},b=ot;if((b.transitions??(b.transitions=[])).push(h),r&&Me){var v=u;if(!v){for(var _=b.parent;_&&(_.f&_e)!==0;)for(;(_=_.parent)&&(_.f&we)===0;);v=!_||(_.f&ke)!==0}v&&$e(()=>{Se(()=>h.in())})}}function ht(e,t,a,n,r){var s=n===1;if(Ce(t)){var i,u=!1;return Ne(()=>{if(!u){var b=t({direction:s?"in":"out"});i=ht(e,b,a,n,r)}}),{abort:()=>{u=!0,i==null||i.abort()},deactivate:()=>i.deactivate(),reset:()=>i.reset(),t:()=>i.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return r(),{abort:rt,deactivate:rt,reset:rt,t:()=>n};const{delay:c=0,css:f,tick:l,easing:p=Ke}=t;var o=[];if(s&&a===void 0&&(l&&l(0,1),f)){var d=Pt(f(0,1));o.push(d,d)}var m=()=>1-n,h=e.animate(o,{duration:c});return h.onfinish=()=>{var b=(a==null?void 0:a.t())??1-n;a==null||a.abort();var v=n-b,_=t.duration*Math.abs(v),$=[];if(_>0){var g=!1;if(f)for(var w=Math.ceil(_/16.666666666666668),E=0;E<=w;E+=1){var A=b+v*p(E/w),C=Pt(f(A,1-A));$.push(C),g||(g=C.overflow==="hidden")}g&&(e.style.overflow="hidden"),m=()=>{var M=h.currentTime;return b+v*p(M/_)},l&&Xt(()=>{if(h.playState!=="running")return!1;var M=m();return l(M,1-M),!0})}h=e.animate($,{duration:_,fill:"forwards"}),h.onfinish=()=>{m=()=>n,l==null||l(n,1-n),r()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=rt)},deactivate:()=>{r=rt},reset:()=>{n===0&&(l==null||l(1,0))},t:()=>m()}}const Ue=e=>e;function Qt(e){const t=e-1;return t*t*t+1}function zt(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Et(e,{delay:t=0,duration:a=400,easing:n=Ue}={}){const r=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:n,css:s=>`opacity: ${s*r}`}}function W(e,{delay:t=0,duration:a=400,easing:n=Qt,x:r=0,y:s=0,opacity:i=0}={}){const u=getComputedStyle(e),c=+u.opacity,f=u.transform==="none"?"":u.transform,l=c*(1-i),[p,o]=zt(r),[d,m]=zt(s);return{delay:t,duration:a,easing:n,css:(h,b)=>`
			transform: ${f} translate(${(1-h)*p}${o}, ${(1-h)*d}${m});
			opacity: ${c-l*b}`}}function Zt(e,{delay:t=0,duration:a=400,easing:n=Qt,start:r=0,opacity:s=0}={}){const i=getComputedStyle(e),u=+i.opacity,c=i.transform==="none"?"":i.transform,f=1-r,l=u*(1-s);return{delay:t,duration:a,easing:n,css:(p,o)=>`
			transform: ${c} scale(${1-f*o});
			opacity: ${u-l*o}
		`}}function Ve(e){return e}function Ye(e){const t=e-1;return t*t*t+1}function te(e){return--e*e*e*e*e+1}var Je=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl relative overflow-hidden"><div class="relative" style="overflow: hidden;"><div><div class="text-center mb-8"><h1 class="text-4xl font-bold text-gradient mb-2">Guess the Graph <span class="text-2xl text-gradient-secondary">(beta)</span></h1> <p class="text-slate-600">Can you match the mathematical function?</p></div> <div class="grid gap-4"><button class="game-btn bg-indigo-600 hover:bg-indigo-700"><span class="text-xl">Singleplayer</span> <span class="text-xs text-indigo-200">Challenge yourself!</span></button> <button class="game-btn bg-emerald-600 hover:bg-emerald-700"><span class="text-xl">Daily Challenge</span> <span class="text-xs text-emerald-200">New function every day</span></button> <button disabled class="game-btn bg-gray-400 not-allowed relative overflow-hidden"><div class="absolute top-0 right-0 bg-yellow-500 text-xs px-2 py-0.5 rounded-bl-md font-medium">Coming Soon</div> <span class="text-xl">Multiplayer</span> <span class="text-xs text-gray-200">Race against others</span></button></div> <div class="mt-8 text-center text-sm text-slate-500"><p>Use the Desmos graphing calculator to match the hidden function</p></div></div> <div><div class="flex items-center mb-6"><button class="text-gray-500 hover:text-gray-700 flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path></svg> Back</button> <div class="text-center flex-1 pr-8"><h1 class="text-3xl font-bold text-gradient">Select Difficulty</h1> <p class="text-slate-600">Choose how challenging you want it to be</p></div></div> <div class="grid gap-4"><button class="game-btn bg-green-600 hover:bg-green-700"><span class="text-xl">Easy</span> <span class="text-xs text-green-200">Simple functions</span></button> <button class="game-btn bg-yellow-600 hover:bg-yellow-700"><span class="text-xl">Medium</span> <span class="text-xs text-yellow-200">More challenging expressions</span></button> <button class="game-btn bg-red-600 hover:bg-red-700"><span class="text-xl">Hard</span> <span class="text-xs text-red-200">Complex mathematical functions</span></button></div></div></div></div></div>');function We(e,t){Z(t,!1);const a=_t();let n=K(!1),r=null,s=K(!1);wt(()=>{setTimeout(()=>{I(n,!0)},10)});function i(o){r=o,o==="singleplayer"?I(s,!0):o==="daily"&&u("daily")}function u(o){I(n,!1),setTimeout(()=>{a("startGame",{mode:r,difficulty:o})},500)}function c(){I(s,!1)}Q();var f=qt(),l=kt(f);{var p=o=>{var d=Je(),m=x(d),h=x(m),b=x(h);let v;var _=k(x(b),2),$=x(_),g=k($,2),w=k(g,2);y(_),Dt(2),y(b);var E=k(b,2);let A;var C=x(E),M=x(C);Dt(2),y(C);var G=k(C,2),V=x(G),Y=k(V,2),F=k(Y,2);y(G),y(E),y(h),y(m),y(d),X((S,O)=>{v=lt(b,1,"transition-all duration-500 ease-out transform",null,v,S),A=lt(E,1,"absolute top-0 left-0 w-full transition-all duration-500 ease-out transform",null,A,O)},[()=>({"translate-x-0":!T(s),"-translate-x-full":T(s),"opacity-100":!T(s),"opacity-0":T(s)}),()=>({"translate-x-0":T(s),"translate-x-full":!T(s),"opacity-100":T(s),"opacity-0":!T(s)})],q),H("click",$,()=>i("singleplayer")),D(1,$,()=>W,()=>({y:20,duration:300,delay:200})),H("click",g,()=>i("daily")),D(1,g,()=>W,()=>({y:20,duration:300,delay:300})),D(1,w,()=>W,()=>({y:20,duration:300,delay:400})),H("click",M,c),H("click",V,()=>u("easy")),H("click",Y,()=>u("medium")),H("click",F,()=>u("hard")),D(3,m,()=>Zt,()=>({duration:400,delay:100,opacity:0,start:.95,easing:te})),D(3,d,()=>Et,()=>({duration:500})),R(o,d)};j(l,o=>{T(n)&&o(p)})}R(e,f),tt()}const xt=Yt({visible:!1,type:"success",message:"",duration:3e3});let gt;function mt(e,t,a=3e3){gt&&clearTimeout(gt),xt.set({visible:!0,type:e,message:t,duration:a}),gt=setTimeout(()=>{xt.update(n=>({...n,visible:!1}))},a)}function jt(e){return Object.prototype.toString.call(e)==="[object Date]"}function yt(e,t){if(e===t||e!==e)return()=>e;const a=typeof e;if(a!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const n=t.map((r,s)=>yt(e[s],r));return r=>n.map(s=>s(r))}if(a==="object"){if(!e||!t)throw new Error("Object cannot be null");if(jt(e)&&jt(t)){const s=e.getTime(),u=t.getTime()-s;return c=>new Date(s+c*u)}const n=Object.keys(t),r={};return n.forEach(s=>{r[s]=yt(e[s],t[s])}),s=>{const i={};return n.forEach(u=>{i[u]=r[u](s)}),i}}if(a==="number"){const n=t-e;return r=>e+r*n}return()=>t}function Xe(e,t={}){const a=Yt(e);let n,r=e;function s(i,u){if(r=i,e==null)return a.set(e=i),Promise.resolve();let c=n,f=!1,{delay:l=0,duration:p=400,easing:o=Ve,interpolate:d=yt}={...t,...u};if(p===0)return c&&(c.abort(),c=null),a.set(e=r),Promise.resolve();const m=B.now()+l;let h;return n=Xt(b=>{if(b<m)return!0;f||(h=d(e,i),typeof p=="function"&&(p=p(e,i)),f=!0),c&&(c.abort(),c=null);const v=b-m;return v>p?(a.set(e=i),!1):(a.set(e=h(o(v/p))),!0)}),n.promise}return{set:s,update:(i,u)=>s(i(r,e),u),subscribe:a.subscribe}}var Qe=U("<span> </span>");function it(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(i,"$displayValue",a);let s=Tt(t,"value",8,0);const i=Xe(s(),{duration:800,easing:Ye});$t(()=>Re(s()),()=>{i.set(s())}),St(),Q();var u=Qe(),c=x(u,!0);y(u),X(f=>L(c,f),[()=>Math.round(r())],q),R(e,u),tt(),n()}var Ze=U('<div><div class="content svelte-t3evnd"><div class="stats svelte-t3evnd"><div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Round</span> <span class="value svelte-t3evnd"> </span></div> <div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Time</span> <span class="value svelte-t3evnd"> </span></div> <div class="stat svelte-t3evnd"><span class="label svelte-t3evnd">Points</span> <span class="value svelte-t3evnd"><!></span></div></div> <button class="check-btn svelte-t3evnd"><!></button></div></div>');function ta(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(N,"$gameStore",a),s=()=>st(Fe,"$gameTimer",a);let i=Tt(t,"visible",8,!0);const u=_t();let c=K(!1),f=K(!1);function l(S){const O=Math.floor(S/60).toString().padStart(2,"0"),et=Math.floor(S%60).toString().padStart(2,"0");return`${O}:${et}`}async function p(){if(T(c)||T(f))return;I(c,!0);const S=await Ie();I(c,!1),S===!0?(I(f,!0),mt("success","Correct! Great job!"),N.checkAnswer(!0),u("correct")):S==="NaN"?mt("warning","Function values are undefined. Please check your function."):mt("error","Not quite right. Keep trying!")}function o(S){console.log("Key pressed:",S.key),S.key==="Enter"&&r().gameState==="playing"&&!T(c)&&!T(f)&&p()}wt(()=>(window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)})),$t(()=>(r(),T(f)),()=>{r().gameState==="playing"&&T(f)&&I(f,!1)}),St(),Q();var d=Ze();let m;var h=x(d),b=x(h),v=x(b),_=k(x(v),2),$=x(_);y(_),y(v);var g=k(v,2),w=k(x(g),2),E=x(w,!0);y(w),y(g);var A=k(g,2),C=k(x(A),2),M=x(C);it(M,{get value(){return r().points}}),y(C),y(A),y(b);var G=k(b,2),V=x(G);{var Y=S=>{var O=Gt("Checking...");R(S,O)},F=S=>{var O=Gt("Check Answer");R(S,O)};j(V,S=>{T(c)?S(Y):S(F,!1)})}y(G),y(h),y(d),X((S,O)=>{m=lt(d,1,"floating-ui svelte-t3evnd",null,m,S),L($,`${r().currentRound??""}/${r().totalRounds??""}`),L(E,O),G.disabled=T(c)||T(f)},[()=>({visible:i()}),()=>l(s())],q),H("click",G,p),D(1,d,()=>W,()=>({y:-20,duration:300})),D(2,d,()=>Et,()=>({duration:200})),R(e,d),tt(),n()}var ea=U('<tr class="border-t border-gray-200"><td class="py-3 px-3"></td><td class="py-3 px-3"><div> </div> <div class="text-xs text-gray-500 font-mono"> </div></td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right font-medium"><!></td></tr>'),aa=U('<div class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex items-center justify-center"><div class="w-full max-w-2xl p-8 rounded-2xl bg-white/95 shadow-2xl"><div class="text-center mb-6"><h1 class="text-4xl font-bold text-gradient mb-2">Game Complete!</h1> <p class="text-slate-600">You scored <span class="font-bold text-indigo-600"><!></span> </p></div> <div class="mb-8"><h2 class="text-xl font-semibold mb-3 text-slate-800">Round Summary</h2> <div class="bg-gray-100 rounded-lg overflow-hidden"><table class="w-full text-sm"><thead><tr class="bg-gray-200 text-gray-700"><th class="py-2 px-3 text-left">Round</th><th class="py-2 px-3 text-left">Function</th><th class="py-2 px-3 text-left">Time</th><th class="py-2 px-3 text-right">Points</th></tr></thead><tbody><!><tr class="bg-indigo-50 font-medium text-indigo-900 border-t border-gray-200"><td class="py-3 px-3" colspan="2">Total</td><td class="py-3 px-3"> </td><td class="py-3 px-3 text-right"><!></td></tr></tbody></table></div></div> <div class="flex gap-4 justify-center"><button class="bg-indigo-600 hover:bg-indigo-700 text-white py-2 px-6 rounded-lg font-medium transition-colors"> </button> <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 px-6 rounded-lg font-medium transition-colors">New Game</button></div></div></div>');function ra(e,t){Z(t,!1);let a=Tt(t,"gameData",8);const n=_t(),r=a().roundsHistory.reduce((F,S)=>F+S.timeSpent,0);function s(F){const S=Math.floor(F/60).toString().padStart(2,"0"),O=Math.floor(F%60).toString().padStart(2,"0");return`${S}:${O}`}function i(){n("playAgain")}function u(){n("newGame")}Q();var c=aa(),f=x(c),l=x(f),p=k(x(l),2),o=k(x(p)),d=x(o);it(d,{get value(){return a().points}}),y(o);var m=k(o);y(p),y(l);var h=k(l,2),b=k(x(h),2),v=x(b),_=k(x(v)),$=x(_);Be($,1,()=>a().roundsHistory,De,(F,S,O)=>{var et=ea(),At=x(et);At.textContent=O+1;var ut=k(At),dt=x(ut),ee=x(dt,!0);y(dt);var Ct=k(dt,2),ae=x(Ct);y(Ct),y(ut);var vt=k(ut),re=x(vt,!0);y(vt);var Nt=k(vt),se=x(Nt);it(se,{get value(){return T(S).points}}),y(Nt),y(et),X(ne=>{L(ee,T(S).function.description),L(ae,`g(x) = ${T(S).function.expression??""}`),L(re,ne)},[()=>s(T(S).timeSpent)],q),R(F,et)});var g=k($),w=k(x(g)),E=x(w,!0);y(w);var A=k(w),C=x(A);it(C,{get value(){return a().points}}),y(A),y(g),y(_),y(v),y(b),y(h);var M=k(h,2),G=x(M),V=x(G);y(G);var Y=k(G,2);y(M),y(f),y(c),X((F,S)=>{L(m,` points
        in ${F??""}`),L(E,S),L(V,`Play Again (${a().difficulty??""})`)},[()=>s(r),()=>s(r)],q),H("click",G,i),H("click",Y,u),D(3,f,()=>Zt,()=>({duration:400,delay:100,opacity:0,start:.95,easing:te})),D(3,c,()=>Et,()=>({duration:500})),R(e,c),tt()}var sa=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),na=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),ia=bt('<svg class="w-5 h-5 text-white mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>'),oa=U('<div class="fixed z-50 bottom-6 left-1/2 transform -translate-x-1/2"><div><!> <span class="text-white font-medium"> </span></div></div>');function la(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(xt,"$toastStore",a);Q();var s=qt(),i=kt(s);{var u=c=>{var f=oa(),l=x(f);let p;var o=x(l);{var d=v=>{var _=sa();R(v,_)},m=(v,_)=>{{var $=w=>{var E=na();R(w,E)},g=w=>{var E=ia();R(w,E)};j(v,w=>{r().type==="error"?w($):w(g,!1)},_)}};j(o,v=>{r().type==="success"?v(d):v(m,!1)})}var h=k(o,2),b=x(h,!0);y(h),y(l),y(f),X(v=>{p=lt(l,1,"px-5 py-3 rounded-lg shadow-lg flex items-center",null,p,v),L(b,r().message)},[()=>({"bg-green-600":r().type==="success","bg-red-600":r().type==="error","bg-yellow-600":r().type==="warning"})],q),D(1,f,()=>W,()=>({y:50,duration:200})),D(2,f,()=>W,()=>({y:50,duration:200})),R(c,f)};j(i,c=>{r().visible&&c(u)})}R(e,s),tt(),n()}var ca=U('<div id="calculator" class="w-screen h-screen relative"></div> <!> <!> <!> <!>',1);function ma(e,t){Z(t,!1);const[a,n]=ct(),r=()=>st(N,"$gameStore",a);let s=K(!0),i=K(!1);function u(g){const{mode:w,difficulty:E}=g.detail;I(s,!1),N.startGame(E),N.startNextRound(),c(),I(i,!0)}function c(){const g=J(Lt);if(g){g.setBlank();const w=J(N);w.currentFunction&&(console.log("Setting up calculator with function:",w.currentFunction.expression),g.setExpression({id:"g",latex:`g(x)=${w.currentFunction.expression}`,color:"#2d70b3",secret:!0}),g.setExpression({id:"f",latex:"f(x)=",color:"#c74440"}))}}function f(){const g=J(Lt),w=J(N);g.setExpression({id:"g",latex:`g(x)=${w.currentFunction.expression}`,color:"#2d70b3",secret:!1});const E=J(N);E.currentRound<E.totalRounds&&setTimeout(()=>{N.startNextRound(),c()},100)}function l(){const g=J(N);N.startGame(g.difficulty),N.startNextRound(),c()}function p(){N.resetGame(),I(s,!0),I(i,!1)}wt(()=>{}),$t(()=>(r(),N),()=>{r().gameState==="roundOver"&&r().currentRound===r().totalRounds&&setTimeout(()=>{N.update(g=>({...g,gameState:"gameOver"}))},100)}),St(),Q();var o=ca(),d=k(kt(o),2);{var m=g=>{We(g,{$$events:{startGame:u}})};j(d,g=>{T(s)&&g(m)})}var h=k(d,2);{var b=g=>{ta(g,{visible:!0,$$events:{correct:f}})};j(h,g=>{T(i)&&r().gameState!=="gameOver"&&g(b)})}var v=k(h,2);{var _=g=>{ra(g,{get gameData(){return r()},$$events:{playAgain:l,newGame:p}})};j(v,g=>{r().gameState==="gameOver"&&g(_)})}var $=k(v,2);la($,{}),R(e,o),tt(),n()}export{ma as component};
