import{_ as d,K as x,$ as m}from"./BnrCCFMJ.js";const f=d(null);function l(i,c,r){return new Promise((s,e)=>{let n=r.HelperExpression({latex:i+"("+c+")"});n.observe("numericValue",function(){s(n.numericValue)})})}async function y(){const i=x(f),r=[-5,-4,-3,-2,-1,0,1,2,3,4,5].map(n=>Promise.all([l("f",n,i),l("g",n,i)]).then(([o,t])=>({i:n,val1:o,val2:t}))),s=await Promise.all(r);let e=!0;for(const{i:n,val1:o,val2:t}of s)if(!(isNaN(o)||isNaN(t))&&(e=!1,Math.abs(o-t)>1e-4))return!1;return e?"NaN":!0}const g={easy:[{expression:"x^2",description:"Quadratic Function"},{expression:"2x+3",description:"Linear Function"},{expression:"\\sin(x)",description:"Sine Function"},{expression:"\\abs(x)",description:"Absolute Value"},{expression:"3",description:"Constant Function"}],medium:[{expression:"x^3-2x",description:"Cubic Function"},{expression:"\\tan(x)",description:"Tangent Function"},{expression:"x^0.5",description:"Square Root"},{expression:"1/x",description:"Reciprocal Function"},{expression:"e^x",description:"Exponential Function"}],hard:[{expression:"\\sin(x)/x",description:"Sinc Function"},{expression:"\\ln(\\abs(x))",description:"Natural Log"},{expression:"x^2*\\sin(x)",description:"Product Function"},{expression:"\\frac{1}{(1+e^{-x})}",description:"Logistic Function",readableExpression:"1/(1+e^(-x))"},{expression:"\\floor(x)",description:"Floor Function"}]};function F(){const i={isPlaying:!1,difficulty:null,currentRound:0,totalRounds:5,currentFunction:null,functions:[],startTime:null,roundStartTime:null,points:0,roundsHistory:[],gameState:"idle"},{subscribe:c,set:r,update:s}=d(i);return{subscribe:c,update:s,startGame:e=>{s(n=>{const o=[...g[e]];for(let t=o.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[o[t],o[a]]=[o[a],o[t]]}return{...i,isPlaying:!0,difficulty:e,functions:o,startTime:Date.now(),gameState:"playing"}})},startNextRound:()=>{s(e=>{const n=e.currentRound+1;return n>e.totalRounds?{...e,gameState:"gameOver"}:{...e,currentRound:n,currentFunction:e.functions[n-1],roundStartTime:Date.now(),gameState:"playing"}})},checkAnswer:e=>{s(n=>{const t=(Date.now()-n.roundStartTime)/1e3;let a=0;switch(n.difficulty){case"easy":a=100;break;case"medium":a=200;break;case"hard":a=300;break}const u=e?Math.max(0,Math.round(a*(1-Math.min(t,60)/60))):0,p={round:n.currentRound,function:n.currentFunction,timeSpent:t,isCorrect:e,points:u};return{...n,points:n.points+u,roundsHistory:[...n.roundsHistory,p],gameState:e?"roundOver":"playing"}})},resetGame:()=>r(i)}}const S=F(),h=m(S,(i,c)=>{let r;return i.gameState==="playing"&&i.roundStartTime&&(r=setInterval(()=>{c((Date.now()-i.roundStartTime)/1e3)},100)),()=>{r&&clearInterval(r)}},0);export{y as a,h as b,f as c,S as g};
